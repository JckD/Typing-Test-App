{"version":3,"sources":["components/Card.js","components/test.component.js","components/CreateQuote.component.js","components/quotes.component.js","components/login.component.js","components/account.component.js","components/profile.component.js","components/editAccount.component.js","components/approveQuote.component.js","components/privateRoute.component.js","utils/isAdmin.js","themes/light.js","themes/dark.js","components/Container.js","components/NavIcon.js","App.js","serviceWorker.js","index.js"],"names":["styled","div","props","theme","colors","cardBackground","TestInput","input","attrs","type","TypingTest","onInputChange","bind","compare","resetTest","endTest","startTimer","calculateWPM","calculateHighScore","backspace","escFunction","debugToggle","renderTooltip","newTest","sendHighscores","state","quote","quote_Title","quote_body","quote_author","user_input","quote_words","char_array","current_quote_char","typed_chars","current_quote_word","count","error_count","total_error_count","input_disabled","quote_left","quote_right","quote_error","quote_start","err_arr","quote_class","tInterval","seconds","netWPM","accuracy","highestAcc","highestWPM","quote_score","quoteWPM","quoteAcc","quoteID","apiUrl","token","user","debug","query","this","location","id","APIURL","setState","axios","get","then","response","data","quoteTitle","quoteBody","Array","from","quoteAuthor","quoteScore","quotWPM","highWPMScore","highAccScore","_id","catch","err","console","log","localStorage","getItem","headers","res","document","addEventListener","removeEventListener","event","keyCode","e","length","interval","setInterval","key","slice","current_char","getElementById","value","words","chars","body","split","clearInterval","focus","correctChars","lastWPM","lastAccuracy","activeElement","blur","Math","ceil","latestAccuracy","latestWPM","personalBestWPM","personalBestAcc","sendQuoteScores","post","scores","minutes","errors","popper","elements","reference","Tooltip","className","Card","Row","Col","sm","Alert","variant","onKeyDown","disabled","OverlayTrigger","placement","delay","show","hide","overlay","name","Button","onClick","style","marginLeft","width","height","viewBox","fill","xmlns","fillRule","d","clipRule","float","Collapse","in","Heading","Component","CreateQuote","checkLogin","onChangeQuoteTitle","onChangeQuoteBody","onChangeQuoteAuthor","validateField","validateForm","addQuote","loggedIn","quoteTitleValid","quoteBodyValid","quoteAuthorValid","formValid","formErrors","formValidAndUser","userName","preventDefault","quoteUser","reqObj","userId","quoteId","history","push","pathname","fieldName","target","fieldValidateErrors","username","Form","Group","Label","Control","onChange","as","rows","Text","SearchInput","placeholder","Quote","to","color","Link","QuoteList","search","quotesList","quotes","map","currentQuote","i","index","filteredQuotes","filter","toLowerCase","indexOf","Login","login","onChangeLoginUsername","onChangeLoginPassword","inputEmail","inputUsername","inputPassword","isEmail","email","password","usernameValid","emailValid","passwordValid","loggedInUser","error","loginAccount","userPassword","withCredentials","setItem","account_username","account_password","Account","onChangeAccountUsername","onChangeAccountEmail","onChangeAccountPassword","onSubmit","account_email","account_favourties","loggedUser","inputLoginPassword","inputLoginUserName","match","newAccount","userEmail","status","String","quoteApproved","marginRight","edit","delete","Profile","logout","getQuotes","deleteAccount","editAccount","approveButton","editQuote","deleteQuote","deleteThisQuote","handleDeleteAccountClose","handleDeleteQuoteClose","handleEditQuoteClose","saveQuote","signUpDate","quoteIds","unapprovedQuotesCount","deleteAccountModal","deleteQuoteModal","editQuoteModal","deletingQuote","isAdmin","quotesAdded","forEach","Id","del","window","reload","editedQuote","removeItem","Badge","Modal","backdrop","keyboard","centered","Header","Title","Body","Footer","size","m","xs","quotesComponentsList","EditAccount","onChangeAccountConfirmPassword","onChangeCurrentPassword","checkPassword","passwordsMatch","oldUser","newInput","confirmPassword","newUser","tempUser","passowrd","newPassword","newConfirmPassowrd","handleClose","approve","approveQuote","noQuotes","PrivateRoute","component","rest","render","background","buttonBackground","textColor","buttonColor","Svg","svg","App","stored","useState","isDarkMode","setIsDarkMode","darkTheme","lightTheme","Container","Navbar","collapseOnSelect","expand","bg","sticky","NavbarBrand","NavIcon","Toggle","aria-controls","Nav","path","exact","Quotes","ApproveQuote","Boolean","hostname","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.1fe5197a.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n  background: ${props => props.theme.colors.cardBackground};\r\n  padding: 24px;\r\n  border-radius: 5px;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  min-height: 100px;\r\n`;","import React, { Component } from 'react';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Collapse from 'react-bootstrap/Collapse';\r\nimport Button from 'react-bootstrap/Button';\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport styled from 'styled-components';\r\nimport axios from 'axios';\r\nimport Card from './Card'\r\n\r\n\r\nconst TestInput = styled.input.attrs(props => ({\r\n    type : 'text',\r\n    \r\n}))`\r\n    background: white;\r\n    border-radius: 5px;\r\n    border: 1px solid darkgray;\r\n\r\n    :: disabled\r\n`\r\n\r\nexport default class TypingTest extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.onInputChange = this.onInputChange.bind(this);\r\n        this.compare = this.compare.bind(this);\r\n        this.resetTest = this.resetTest.bind(this);\r\n        this.endTest = this.endTest.bind(this);\r\n        this.startTimer = this.startTimer.bind(this);\r\n        this.calculateWPM = this.calculateWPM.bind(this);\r\n        this.calculateHighScore = this.calculateHighScore.bind(this);\r\n        this.backspace = this.backspace.bind(this);\r\n        this.escFunction = this.escFunction.bind(this);\r\n        this.debugToggle = this.debugToggle.bind(this);\r\n        this.renderTooltip = this.renderTooltip.bind(this);\r\n        this.newTest = this.newTest.bind(this);\r\n        this.sendHighscores = this.sendHighscores.bind(this);\r\n\r\n\r\n        this.state = {\r\n            quote: [],\r\n            //The name of the quote\r\n            quote_Title: '',\r\n            // The text body of the quote\r\n            quote_body : '',\r\n            quote_author : '',\r\n            user_input : '',\r\n            // An array of every word in the quote not currently used but might be useful later\r\n            quote_words: [],\r\n            // An array of every character in the quote including spaces\r\n            char_array: [],\r\n            // String that contains the next character to be typed\r\n            current_quote_char: '',\r\n            // String that holds what the user types if they are correct but if it is not correct it is filled correctly by char_array\r\n            typed_chars: '',\r\n            // string that contains the current work to be typed not currently used but might be useful later\r\n            current_quote_word: '',\r\n            // counter that keeps track of the number of user inputs excluding backspace\r\n            count: 0,\r\n            // counter that keeps track of errors, can be decremented if the user corrects their error\r\n            error_count : 0,\r\n            // a total error counter that does not decrement\r\n            total_error_count : 0,\r\n            // boolean to disable input to the text box and display results when the test is over, false == test not over, true == test over\r\n            input_disabled : false,\r\n            // String that contains every thing that has been typed or that the user has passed\r\n            quote_left : '',\r\n            // String that contains everything the user has left to type\r\n            quote_right : '',\r\n            // String that contains correct characters that the user has gotten wrong errors the user has typed\r\n            quote_error : '',\r\n            // The quote placeholder for before the test starts is emptied after the test starts\r\n            quote_start : '',\r\n            // error array that conatins the errors the user has typed\r\n            err_arr : '',\r\n            // string that contains the css class of the current character span so it can be change when there is an error or not\r\n            quote_class : 'quote-current',\r\n            // Interval to time the user\r\n            tInterval : '', \r\n            // number that keeps track of the seconds that have passed since the test started\r\n            seconds : 0,\r\n            // The net words per minute\r\n            netWPM : 0,\r\n            // Accuracy %\r\n            accuracy : 0,\r\n            // Highscores\r\n            highestAcc : 0, \r\n            highestWPM : 0,\r\n            quote_score : 0,\r\n            quoteWPM : 0,\r\n            quoteAcc : 0,\r\n            quoteID : 0,\r\n\r\n            //api url\r\n            apiUrl : '',\r\n            token : '',\r\n\r\n            user : {},\r\n            debug : false\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        let query = '';\r\n        if (this.props.location.state != null) {\r\n            query = this.props.location.state.id\r\n        }\r\n        else {\r\n            query = 'random';\r\n        }\r\n        let APIURL = ''\r\n        // Check if in dev or production environment\r\n        if (process.env.NODE_ENV === 'production') {\r\n            this.setState((state) => ({\r\n                apiUrl : 'https://jdoyle.ie',\r\n            }))\r\n            APIURL = 'https://jdoyle.ie'\r\n        } else if (process.env.NODE_ENV === 'development') {\r\n            this.setState((state) => ({\r\n               apiUrl : 'http://localhost:8080',\r\n            }))\r\n            APIURL = 'http://localhost:8080'\r\n        }\r\n        // get quote from database and update state\r\n        axios.get(APIURL +'/quotes/'+query)\r\n            .then(response => {\r\n                this.setState((state) => ({ \r\n                    quote_Title : response.data.quoteTitle,\r\n                    quote_body : response.data.quoteBody,\r\n                    char_array : Array.from(response.data.quoteBody),\r\n                    current_quote_char : Array.from(response.data.quoteBody)[0],\r\n                    quote_start : response.data.quoteBody,\r\n                    quote_author : response.data.quoteAuthor,\r\n                    quote_score : response.data.quoteScore,\r\n                    quotWPM : response.data.highWPMScore,\r\n                    quoteAcc : response.data.highAccScore,\r\n                    quoteID : response.data._id\r\n                }))\r\n            })\r\n            .catch(function (err) {\r\n                console.log(err);\r\n            })\r\n\r\n        //if there is a use logged in get their account info\r\n        if (localStorage.getItem('beepboop')) {\r\n            let token = localStorage.getItem('beepboop')\r\n            this.setState({\r\n                token : token\r\n            })\r\n\r\n            axios.get( APIURL + '/user/profile', { headers : { 'auth-token' : token }})\r\n            .then(res => {\r\n               // console.log(res.data)\r\n               this.setState({\r\n                   user : res.data\r\n               })\r\n            })\r\n        }\r\n        // add eventListener that checks if the esc key has been pressed on every keydown\r\n        document.addEventListener(\"keydown\", this.escFunction, false);\r\n        \r\n    }\r\n\r\n\r\n     \r\n    componentWillUnmount(){\r\n        document.removeEventListener(\"keydown\", this.escFunction, false);\r\n    }\r\n\r\n    // startTimer function that is called every second by setInterval in onInputChance() \r\n    // increments seconds by 1 and sets the state.\r\n    startTimer () {\r\n        let seconds = this.state.seconds + 1;\r\n        this.setState((state) => ({\r\n            seconds : seconds,\r\n        }))\r\n    }\r\n\r\n    // escFunction that handles when the escape key is pressed\r\n    escFunction(event){\r\n        if(event.keyCode === 27) {\r\n          this.resetTest();\r\n        }\r\n    }\r\n\r\n    // Function that toggles the debug output\r\n    debugToggle() {\r\n        this.setState((state) => ({\r\n            debug : !state.debug\r\n        })) \r\n    }\r\n\r\n    // Called whenever the user input is changed\r\n    // Sets the state of user_input to the user's input and calls compare with the current word from state.\r\n    onInputChange (e) {\r\n        // edge case if user ends test with error to just end the test if the total number of entries == the quote len.\r\n        if (this.state.count === this.state.char_array.length) {\r\n            this.endTest();\r\n            console.log('testing jenkins')\r\n            return\r\n        }\r\n\r\n        // if the key pressed is not backspace and is in the general keys location 0\r\n        if (e.keyCode !== 8 && e.location === 0) {\r\n\r\n            // if the user has started typing yet\r\n            if (this.state.count === 0) {\r\n                //Start timer\r\n                let interval = setInterval(this.startTimer, 1000)\r\n                this.setState ((state) => ({\r\n                    quote_start : '',\r\n                    seconds : 0,\r\n                    tInterval : interval      \r\n                }))\r\n            }\r\n            // update the current user_input state and call compare function\r\n            this.setState({\r\n                user_input : e.key\r\n            }, () => this.compare(this.state.current_quote_char))\r\n        }\r\n        // Backspace conditions for changing the current char, left and right spans     \r\n        else if (e.keyCode === 8 && this.state.err_arr !== '' && this.state.error_count  > 0) {\r\n            // if there are errors and the user presses backspace reduce the error count\r\n            if (this.state.error_count > 0) {\r\n                this.setState ((state) => ({\r\n                    error_count : state.error_count -1,\r\n                }), () => this.backspace())      \r\n            }\r\n            else {\r\n                this.backspace();\r\n            }\r\n        }\r\n    }\r\n\r\n    // backspace function that handles when the user enters a backspace into the input box\r\n    backspace () {\r\n        this.setState ((state) => ({\r\n            err_arr : state.err_arr.slice(0, state.err_arr.length-1),\r\n            count : state.count - 1,\r\n            current_quote_char : state.char_array[state.count -1],\r\n            quote_left : state.typed_chars.slice(0, state.typed_chars.length - state.err_arr.length),\r\n            typed_chars : state.typed_chars.slice(0, -1),\r\n            quote_right :  state.char_array.slice(state.count , state.char_array.length)\r\n        }))      \r\n    }\r\n\r\n    // Called in onInputChange\r\n    // Takes the current word to be typed from state\r\n    // Compares it to the user input\r\n    // Checks the if the word count is equal to the length of the quote_words array; if it is the test is over and endTest() is called.\r\n    // If it is not the state of the current word is changed, the count is incremented and the user_input is set back to empty\r\n    compare (current_char) {\r\n        if (current_char === this.state.user_input) {\r\n            console.log(\"match\");\r\n            if (this.state.count >= this.state.char_array.length -1) {\r\n                this.setState((state) => ({\r\n                    typed_chars: state.typed_chars + state.user_input\r\n                }), () => this.endTest())\r\n            }\r\n            else {\r\n                this.setState((state) => ({\r\n                    current_quote_char : state.char_array[state.count + 1],\r\n                    count: state.count + 1,\r\n                    typed_chars: state.typed_chars + state.user_input,\r\n                    quote_right : state.char_array.slice(state.count+2, state.char_array.length),\r\n                    user_input : '',\r\n                    quote_left : state.typed_chars + state.user_input,\r\n                    err_arr : '',\r\n                    quote_class : 'quote-current',\r\n                }));  \r\n            }\r\n            document.getElementById('input').value = '';\r\n        }\r\n        else {\r\n            this.setState((state) => ({\r\n                err_arr : state.err_arr + state.char_array[state.count],\r\n                current_quote_char : state.char_array[state.count + 1],\r\n                count: state.count + 1,\r\n                quote_class : 'quote-warning',\r\n                typed_chars : state.typed_chars + state.char_array[state.count],\r\n                quote_error :  state.err_arr,\r\n                quote_right : state.char_array.slice(state.count +2, state.char_array.length),\r\n                error_count : state.error_count + 1,\r\n                total_error_count : state.total_error_count + 1,\r\n            }))\r\n        }\r\n    }\r\n\r\n    // Called by newTestBtn \r\n    // queries the db for a random quote and updates the state\r\n    // then calls resettest to reset other counters and timers\r\n    newTest () {\r\n        // get quote from database and update state\r\n        axios.get(this.state.apiUrl + '/quotes/random')\r\n            .then(response => {\r\n                this.setState((state) => ({ \r\n                    quote_Title : response.data.quoteTitle,\r\n                    quote_body : response.data.quoteBody,\r\n                    char_array : Array.from(response.data.quoteBody),\r\n                    current_quote_char : Array.from(response.data.quoteBody)[0],\r\n                    quote_start : response.data.quoteBody,\r\n                    quote_author : response.data.quoteAuthor\r\n                }))\r\n            })\r\n            .catch(function (err) {\r\n                console.log(err);\r\n            })\r\n        this.resetTest()\r\n    }\r\n\r\n    //Called whenever the reset button is pressed\r\n    //Resets the test by resetting the state to default.\r\n    resetTest () {\r\n        let body = this.state.quote_body;\r\n        let words = [];\r\n        let chars = [];\r\n        words = body.split(\" \");\r\n        chars = Array.from(body);\r\n        clearInterval(this.state.tInterval);\r\n        document.getElementById('input').value = '';\r\n        document.getElementById('input').focus();\r\n\r\n        this.setState((state) => ({\r\n            quote_Title: state.quote_Title,\r\n            quote_body : state.quote_body, \r\n            quote_words : words,\r\n            current_quote_word : words[0],\r\n            char_array : chars,\r\n            quote_start : state.quote_body,\r\n            current_quote_char : state.char_array[0],\r\n            err_arr : '',\r\n            user_input : '',\r\n            quote_left : '',\r\n            quote_right : '',\r\n            typed_chars : '',\r\n            error_count : 0,\r\n            quote_class : 'quote_current',\r\n            quote_error : '',\r\n            total_error_count : 0,\r\n            count: 0,\r\n            seconds : 0,\r\n            input_disabled : false,\r\n        }))\r\n    }\r\n\r\n    // Called when the end of the test is reached in compare()\r\n    // Calculates word per minute\r\n    endTest () {\r\n        clearInterval(this.state.tInterval);\r\n        let correctChars = this.state.char_array.length - this.state.total_error_count;\r\n\r\n        let lastWPM = this.state.netWPM;\r\n        let lastAccuracy = this.state.accuracy;\r\n        \r\n        document.activeElement.blur();\r\n        document.getElementById('input').focus();\r\n        this.setState((state) => ({\r\n            error_count : state.error_count,\r\n            accuracy : Math.ceil((correctChars / state.char_array.length)*100),\r\n            input_disabled : true,\r\n            current_quote_char : '',\r\n            quote_left : state.quote_body,\r\n            seconds : 0,\r\n            err_arr : '',\r\n            netWPM : Math.ceil(this.calculateWPM()),\r\n        }), () => this.calculateHighScore(lastAccuracy, lastWPM))\r\n    }\r\n\r\n    // Function that updates the user's high score is the latest score was better than the last replace the scores\r\n    calculateHighScore (lastAccuracy, lastWPM) {\r\n        let latestAccuracy = this.state.accuracy;\r\n        let latestWPM = this.state.netWPM;\r\n        let highestWPM = 0;\r\n        let highestAcc = 0;\r\n\r\n        console.log(lastWPM, this.state.quoteWPM)\r\n        \r\n\r\n        if (latestWPM > lastWPM) {\r\n            this.setState({\r\n                highestAcc : latestAccuracy,\r\n                highestWPM : latestWPM,\r\n                \r\n            })\r\n\r\n            highestWPM = latestWPM;\r\n            highestAcc = latestAccuracy\r\n            if (this.state.token != '') {\r\n\r\n                console.log(highestWPM)\r\n                console.log(highestAcc)\r\n                if(highestWPM > this.state.user.personalBestWPM ) {\r\n                    console.log('you were better')\r\n                    this.setState(state => ({\r\n                        user : {\r\n                            ...this.state.user,\r\n                            \r\n                            personalBestAcc : highestAcc,\r\n                            personalBestWPM : highestWPM,\r\n                        }\r\n                    }), () => this.sendHighscores(this.state.user))\r\n                }\r\n\r\n                if (lastWPM >= this.state.quoteWPM) {\r\n                    console.log('calling')\r\n                    this.setState({\r\n                        quoteWPM : highestWPM,\r\n                        quoteAcc : highestAcc\r\n                    }, () => this.sendQuoteScores())\r\n                }\r\n                \r\n                \r\n            }\r\n\r\n        }\r\n    \r\n    }\r\n\r\n    sendHighscores(user) {\r\n        console.log(user)\r\n        axios.post(this.state.apiUrl + '/user/updateHS', user , { headers : {'auth-token' : this.state.token}})\r\n        .then(res =>\r\n            console.log(res.data)    \r\n        ) .catch(err => err)\r\n    }\r\n\r\n    sendQuoteScores() {\r\n        const scores = {\r\n            quoteWPM : this.state.quoteWPM,\r\n            quoteAcc : this.state.quoteAcc,\r\n            _id : this.state.quoteID\r\n        }\r\n\r\n        axios.post(this.state.apiUrl + '/quotes/updateHS', scores, {headers : {'auth-token' : this.state.token}})\r\n        .then(res => \r\n            console.log(res.data)\r\n        ) .catch(err => err)\r\n    }\r\n\r\n\r\n\r\n    // calculateWPM function calculates the user's WPM and returns the netWPM\r\n    calculateWPM () {\r\n        let seconds = this.state.seconds;\r\n        let minutes = seconds/60;\r\n        let errors = this.state.error_count;\r\n        let typedEntries = this.state.typed_chars.length;\r\n        let grossWPM = (typedEntries/5) / minutes;\r\n        let netWPM = grossWPM - (errors/minutes);\r\n        // Now do it all in one line for Duggan\r\n        //netWPM = ((this.state.typed_chars.length/5) / (this.state.seconds/60)) - (this.state.error_count/(this.state.seconds/60))\r\n        return netWPM\r\n    }\r\n\r\n\r\n\r\n    // function to render button tooltips\r\n    renderTooltip(props) {\r\n        if (props.popper.state != null) {\r\n            //console.log(props.popper.state.elements)\r\n\r\n            if (props.popper.state.elements.reference.id === 'restartBtn') {\r\n                return (\r\n                    <Tooltip id=\"button-tooltip\" {...props}>\r\n                        Restart Test\r\n                    </Tooltip>\r\n                );\r\n            } else if (props.popper.state.elements.reference.id === 'newTestBtn') {\r\n                return (\r\n                    <Tooltip id=\"button-tooltip\" {...props}>\r\n                        Start New Test\r\n                    </Tooltip>\r\n                );\r\n            } else if (props.popper.state.elements.reference.id === 'debugBtn') {\r\n                return (\r\n                    <Tooltip id=\"button-tooltip\" {...props}>\r\n                        Show debug Info\r\n                    </Tooltip>\r\n                )\r\n            } \r\n        }\r\n        return  (\r\n            <Tooltip {...props}>\r\n                tes\r\n            </Tooltip>\r\n        )     \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <Card>\r\n                   \r\n                    \r\n                        <Row>\r\n                            <Col sm={8}>\r\n                                <h4>{this.state.quote_Title} - {this.state.quote_author}</h4>\r\n                                <Alert variant=\"secondary\">       \r\n                                    <span className=\"quote-left\">{this.state.quote_left}</span>\r\n                                    <span className=\"quote-error\">{this.state.err_arr}</span>\r\n                                    <span className={this.state.quote_class}>{this.state.current_quote_char}</span>\r\n                                    <span className=\"quote-start\">{this.state.quote_start.slice(1)}</span>\r\n                                    <span className=\"quote-right\">{this.state.quote_right}</span>\r\n                                    <hr/>\r\n                                    <span>Best Score: {this.state.quoteWPM}WPM {this.state.quoteAcc}% Accuracy</span>\r\n                                </Alert>    \r\n                            </Col>\r\n                            <Col sm={4}>\r\n                                <h4>High Scores</h4>\r\n                                <Alert variant=\"info\">\r\n                                    <span>\r\n                                        WPM : {this.state.highestWPM} <br></br>\r\n                                        Accuracy : {this.state.highestAcc}% <br></br>\r\n                                    </span>       \r\n                                </Alert>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col>\r\n                                <h5>Current Character: {this.state.current_quote_char}</h5>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col sm={8}>\r\n                                <TestInput  onKeyDown={this.onInputChange} id='input' disabled={this.state.input_disabled}/>\r\n                                <OverlayTrigger placement=\"top\" delay={{ show: 250, hide: 400 }} overlay={this.renderTooltip} name=\"restartOverlay\">\r\n                                    <Button onClick={this.resetTest} style={{marginLeft: 10}} variant=\"secondary\" id=\"restartBtn\">\r\n                                        <svg className=\"bi bi-arrow-repeat\" width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                            <path fillRule=\"evenodd\" d=\"M2.854 7.146a.5.5 0 00-.708 0l-2 2a.5.5 0 10.708.708L2.5 8.207l1.646 1.647a.5.5 0 00.708-.708l-2-2zm13-1a.5.5 0 00-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 00-.708.708l2 2a.5.5 0 00.708 0l2-2a.5.5 0 000-.708z\" clipRule=\"evenodd\"/>\r\n                                            <path fillRule=\"evenodd\" d=\"M8 3a4.995 4.995 0 00-4.192 2.273.5.5 0 01-.837-.546A6 6 0 0114 8a.5.5 0 01-1.001 0 5 5 0 00-5-5zM2.5 7.5A.5.5 0 013 8a5 5 0 009.192 2.727.5.5 0 11.837.546A6 6 0 012 8a.5.5 0 01.501-.5z\" clipRule=\"evenodd\"/>\r\n                                        </svg>\r\n                                    </Button>\r\n                                </OverlayTrigger>\r\n                                <OverlayTrigger placement=\"top\" delay={{ show: 250, hide: 400 }} overlay={this.renderTooltip}>\r\n                                    <Button onClick={this.newTest} variant=\"info\" style={{marginLeft : 10}} id=\"newTestBtn\" name=\"newTestBtn\">\r\n                                        <svg width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 16 16\" className=\"bi bi-plus\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                            <path fillRule=\"evenodd\" d=\"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z\"/>\r\n                                            <path fillRule=\"evenodd\" d=\"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z\"/>\r\n                                        </svg>\r\n                                    </Button>\r\n                                </OverlayTrigger>\r\n                                \r\n                            </Col>\r\n                            <Col sm={4}>\r\n                                <OverlayTrigger placement=\"left\" delay={{ show: 250, hide: 400 }} overlay={this.renderTooltip}>\r\n                                    <Button onClick={this.debugToggle} variant=\"outline-warning\" style={{float : \"right\"}} id=\"debugBtn\" name=\"debugBtn\">\r\n                                        <svg width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 16 16\" className=\"bi bi-bug\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" >\r\n                                            <path fillRule=\"evenodd\" d=\"M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6H4a3.99 3.99 0 0 1 1.333-2.982A3.983 3.983 0 0 1 8 2c1.025 0 1.959.385 2.666 1.018A3.989 3.989 0 0 1 12 6z\"/>\r\n                                        </svg>\r\n                                    </Button>\r\n                                </OverlayTrigger>\r\n                            </Col>\r\n                        </Row><br></br>\r\n                        \r\n                        <Row> \r\n                            <Col sm={8}>\r\n                                <Collapse in={this.state.input_disabled}>\r\n                                    <div id=\"results\">\r\n                                        <Alert variant=\"success\">\r\n                                            <Alert.Heading>Well Done!</Alert.Heading>\r\n                                                <p>\r\n                                                    Here are your results:<br></br>\r\n                                                    WPM : {this.state.netWPM} <br></br>\r\n                                                    Accuracy : {this.state.accuracy}% <br></br>\r\n                                                    Errors : {this.state.total_error_count}<br></br>\r\n                                                    Corrected Errors : {this.state.error_count}\r\n                                                </p>\r\n                                        </Alert>\r\n                                    </div>          \r\n                                </Collapse>\r\n                            </Col>\r\n                            <Col sm={4}>\r\n                                <Collapse in={this.state.debug}>\r\n                                    <div>\r\n                                        <Alert variant=\"warning\">\r\n                                            <Alert.Heading>Debug</Alert.Heading>\r\n                                            <p>\r\n                                                Error array : {this.state.err_arr}<br></br>\r\n                                                quote length : {this.state.char_array.length}<br></br>\r\n                                                Input count : {this.state.count}<br></br>\r\n                                                Error Count : {this.state.error_count}<br></br>\r\n                                                Total Error Count : {this.state.total_error_count}<br></br>\r\n                                                Previous character : {this.state.char_array[this.state.count-1]}<br></br>\r\n                                                Current character : {this.state.char_array[this.state.count]}<br></br>\r\n                                                Next character : {this.state.char_array[this.state.count+1]}<br></br> \r\n                                                Quote left : {this.state.quote_left}<br></br>\r\n                                                Quote green : {this.state.current_quote_char}<br></br>\r\n                                                Quote right : {this.state.quote_right}<br></br>\r\n                                                Quote error : {this.state.quote_error}\r\n                                            </p>\r\n                                        </Alert>\r\n                                    </div>\r\n                                </Collapse>      \r\n                            </Col>\r\n                        </Row> \r\n                </Card>    \r\n                <div style={{ height : 800}}></div>\r\n            </div>  \r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"./Card\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport axios from \"axios\";\r\n\r\nexport default class CreateQuote extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.checkLogin = this.checkLogin.bind(this);\r\n        this.onChangeQuoteTitle = this.onChangeQuoteTitle.bind(this);\r\n        this.onChangeQuoteBody = this.onChangeQuoteBody.bind(this);\r\n        this.onChangeQuoteAuthor = this.onChangeQuoteAuthor.bind(this);\r\n\r\n        this.validateField = this.validateField.bind(this);\r\n        this.validateForm = this.validateForm.bind(this);\r\n\r\n        this.addQuote = this.addQuote.bind(this);\r\n\r\n        this.state = {\r\n            // validation\r\n            loggedIn : false,\r\n            quoteTitleValid : false,\r\n            quoteBodyValid : false,\r\n            quoteAuthorValid : false,\r\n            formValid : false, \r\n            formErrors : {quoteTitle: '', quoteBody : '', quoteAuthor : ''},\r\n\r\n            formValidAndUser : false,\r\n\r\n            // user\r\n            userName : '',\r\n            id : '',\r\n\r\n            // Quote state\r\n            quoteTitle : '',\r\n            quoteBody : '',\r\n            quoteAuthor : ''\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        if (localStorage.getItem('beepboop')) {\r\n            this.checkLogin()\r\n\r\n            let token = localStorage.getItem('beepboop')\r\n             let APIURL = ''\r\n            if (process.env.NODE_ENV === 'production') {\r\n                APIURL = 'https://typingtest.jdoyle.ie'\r\n            } else if (process.env.NODE_ENV === 'development') { \r\n                APIURL = 'http://localhost:8080'\r\n            }\r\n            axios.get(APIURL + '/user/profile',{ headers : { 'auth-token' : token}}  )\r\n            .then( res => {\r\n                console.log(this.state)\r\n                if (res.data) {\r\n                    this.setState({\r\n                        userName : res.data.userName,\r\n                        id : res.data._id\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    addQuote(e) {\r\n        e.preventDefault();\r\n\r\n        const quote = {\r\n            quoteTitle : this.state.quoteTitle,\r\n            quoteBody : this.state.quoteBody,\r\n            quoteAuthor : this.state.quoteAuthor,\r\n            quoteUser : this.state.userName\r\n        }\r\n        //console.log(quote)\r\n        let token = localStorage.getItem('beepboop');\r\n        let APIURL = ''\r\n        if (process.env.NODE_ENV === 'production') {\r\n            APIURL = 'https://typingtest.jdoyle.ie'\r\n        } else if (process.env.NODE_ENV === 'development') { \r\n            APIURL = 'http://localhost:8080'\r\n        }\r\n        \r\n        axios.post(APIURL + '/quotes/add', quote, { headers : { 'auth-token' : token}})\r\n        .then(res => {\r\n\r\n            const reqObj = {\r\n                userId : this.state.id,\r\n                quoteId : res.data\r\n            }\r\n            axios.post(APIURL + '/user/addQuote', reqObj, {headers : {'auth-token' : token}})\r\n\r\n            this.props.history.push({\r\n                pathname : '/' + res.data,\r\n                \r\n            })\r\n        }).catch (err => err)\r\n        \r\n    }\r\n\r\n    // Check if user is logged in\r\n    checkLogin() {\r\n        this.setState({\r\n            loggedIn : true,\r\n        })\r\n    }\r\n\r\n    onChangeQuoteTitle(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            quoteTitle : e.target.value},\r\n            () => {this.validateField(fieldName, this.state.quoteTitle)\r\n        })\r\n    }\r\n\r\n    onChangeQuoteBody(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            quoteBody : e.target.value},\r\n            () => {this.validateField(fieldName, this.state.quoteBody)\r\n        })\r\n    }\r\n\r\n    onChangeQuoteAuthor(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            quoteAuthor : e.target.value},\r\n            () => {this.validateField(fieldName, this.state.quoteAuthor)\r\n        })\r\n    }\r\n\r\n    validateField(fieldName, value) {\r\n        let fieldValidateErrors = this.state.formErrors;\r\n        let quoteTitleValid = this.state.quoteTitleValid;\r\n        let quoteBodyValid = this.state.quoteBodyValid;\r\n        let quoteAuthorValid = this.state.quoteAuthorValid;\r\n\r\n        switch(fieldName) {\r\n            \r\n            case 'quoteTitle':\r\n                \r\n                quoteTitleValid = value.length >= 0 && value.length < 40;\r\n                fieldValidateErrors.quoteTitle = quoteTitleValid ? '' : ' must not be empty or greater than 20 characters.';\r\n                break;\r\n            \r\n            case 'quoteBody':\r\n                \r\n                quoteBodyValid = value.length >= 200  && value.length <= 350 ;\r\n                fieldValidateErrors.quoteBody = quoteBodyValid ? '' : ' is too short';\r\n                \r\n                break;\r\n\r\n            case 'quoteAuthor':\r\n\r\n                if (value.length === 0){\r\n                    quoteAuthorValid = true;\r\n                    this.setState((state) => ({\r\n                        quoteAuthor : state.username\r\n                    }), () => {fieldValidateErrors.quoteAuthor = quoteAuthorValid ? '' : ''})\r\n                    break;\r\n                }\r\n                else if (value.length <= 10) {\r\n                    quoteAuthorValid = true\r\n                    fieldValidateErrors.quoteAuthor = quoteAuthorValid ? '' : ' is short long';\r\n                    break;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n\r\n            default:\r\n                break;\r\n\r\n        }\r\n\r\n        this.setState({\r\n            formErrors : fieldValidateErrors, \r\n            quoteTitleValid : quoteTitleValid, \r\n            quoteBodyValid : quoteBodyValid,\r\n            quoteAuthorValid : quoteAuthorValid\r\n        },    \r\n            this.validateForm);\r\n        \r\n    }\r\n\r\n     // ValidaateForm function sets the current state of the fields of the form.\r\n     validateForm() {\r\n         \r\n        this.setState({\r\n            formValid:  this.state.quoteTitleValid &&\r\n                        this.state.quoteBodyValid && \r\n                        this.state.quoteAuthorValid,\r\n            formValidAndUser : this.state.formValid && this.state.loggedIn\r\n                    });\r\n\r\n        \r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n               <Card>\r\n                    <Row>  \r\n                        <Col sm={7}>\r\n                            <Form>\r\n                                <Form.Group >\r\n                                    <h4>Create Quote</h4>\r\n                                    <Form.Label>Quote Title: </Form.Label>\r\n                                    <Form.Control \r\n                                        value={this.state.quoteTitle}\r\n                                        id = \"quoteTitle\"\r\n                                        onChange = {this.onChangeQuoteTitle}\r\n                                        name =\"quoteTitle\"\r\n                                        \r\n                                    />\r\n                                    \r\n                                    <br />\r\n                                    \r\n                                    <Form.Label>Quote: </Form.Label>\r\n                                    <Form.Control\r\n                                        \r\n                                       value={this.state.quoteBody}\r\n                                        id = \"quoteBody\"\r\n                                        onChange = {this.onChangeQuoteBody}\r\n                                        name = \"quoteBody\"\r\n                                        as=\"textarea\" rows = \"4\"\r\n                                    />\r\n\r\n                                    <Form.Label>Quote Author: </Form.Label>\r\n                                    <Form.Control\r\n                                        \r\n                                        value={this.state.quoteAuthor}\r\n                                        id = \"quoteAuthor\"\r\n                                        onChange = {this.onChangeQuoteAuthor}\r\n                                        name = \"quoteAuthor\"\r\n                                        \r\n                                    />   \r\n                                </Form.Group>\r\n\r\n                                <Button type=\"submit\" variant=\"info\" onClick={this.addQuote} disabled={!this.state.formValidAndUser}>\r\n                                    Create Quote\r\n                                </Button>\r\n                            </Form>\r\n                        </Col> \r\n                        <Col sm = {4}>\r\n                            {/* This is afwul i Know */}\r\n                            <br />\r\n                            <br />\r\n                            <br />\r\n                            <Form.Text className=\"text-muted\">\r\n                                Quotes require a title and must be shorter than 40 characters.\r\n                            </Form.Text>\r\n                            <br />\r\n                            <br />\r\n                            \r\n                            <Form.Text className=\"text-muted\">\r\n                                Main text of the Quote must be between 200 and 350 characters.\r\n                            </Form.Text>\r\n                            <br />\r\n                            <br />\r\n                            <br />\r\n                            <br />\r\n                            <br />\r\n                            <Form.Text className=\"text-muted\">\r\n                                Add the original Author of the Quote.\r\n                            </Form.Text>\r\n\r\n                            <br />\r\n                            <Form.Text className=\"text-muted\">\r\n                                You must be logged in to add a Quote.\r\n                            </Form.Text>\r\n                        </Col>\r\n                    </Row>\r\n                </Card>\r\n                <div style={{ height : 800}}></div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport axios from 'axios';\r\nimport Card from \"./Card\";\r\nimport styled from 'styled-components';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst SearchInput = styled.input.attrs(props => ({\r\n    type : 'text',\r\n    placeholder : ' Search: Title, Author, User'\r\n    \r\n}))`\r\n    background: white;\r\n    border-radius: 5px;\r\n    border: 1px solid darkgray;\r\n    height : 35px;\r\n    margin-left : 80px;\r\n    width : 230px;\r\n    float: right;\r\n    :: disabled\r\n`\r\n\r\n// Quote component\r\nconst Quote = props => (\r\n    <div>\r\n        <Alert variant=\"secondary\">\r\n            <Link to={{ pathname : '/', state: { id : props.quote._id }}} style={{color : '#202326'}}>\r\n                <Alert.Heading>{props.quote.quoteTitle} -{props.quote.quoteAuthor}</Alert.Heading>\r\n            </Link>\r\n            <span>{props.quote.quoteBody}</span>\r\n            <hr />\r\n            <Row>\r\n                <Col sm={8}>\r\n                    <span>Added by: <Alert.Link>{props.quote.quoteUser}</Alert.Link></span>\r\n                </Col>\r\n                <Col sm={4}>\r\n                    <div style={{float : 'right'}}>\r\n                        <Alert.Link  variant=\"outline-seconary\">\r\n                            Suggest Edit\r\n                        </Alert.Link>\r\n                    </div>\r\n                </Col>\r\n            </Row>    \r\n        </Alert>\r\n        <br></br>\r\n    </div>  \r\n)\r\n\r\nexport default class QuoteList extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.search = this.search.bind(this);\r\n        this.quotesList = this.quotesList.bind(this);\r\n\r\n        this.state = {\r\n            quotes: [],\r\n            search : ''\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        let APIURL = ''\r\n        if (process.env.NODE_ENV === 'production') {\r\n            APIURL = 'https://typingtest.jdoyle.ie'\r\n        } else if (process.env.NODE_ENV === 'development') { \r\n            APIURL = 'http://localhost:8080'\r\n        }\r\n        axios.get(APIURL + '/quotes/approved')\r\n            .then(response => {\r\n                this.setState({ quotes : response.data});\r\n            })\r\n            .catch(function (err) {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    quotesList(quotesList) {\r\n        return quotesList.map(function(currentQuote, i){\r\n            return <Quote quote={currentQuote} key={i} index = {i}  />\r\n        })\r\n    }\r\n\r\n    search() {\r\n        this.setState({\r\n            search : document.getElementById('searchBar').value\r\n        })\r\n        \r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n        // filter funtion that works so amazingly well without needing more requests\r\n        let filteredQuotes = this.state.quotes.filter(\r\n            (quote) => {\r\n                return  quote.quoteTitle.toLowerCase().indexOf(this.state.search) !== -1 ||\r\n                        quote.quoteAuthor.toLowerCase().indexOf(this.state.search) !== -1 || \r\n                        quote.quoteUser.indexOf(this.state.search) !== -1;\r\n            }\r\n        )\r\n        return (\r\n            <div className=\"container\">\r\n                <Card>\r\n                    <Row>\r\n                        <Col sm={8}>\r\n                            <h4>Quotes</h4>  \r\n                        </Col>\r\n                        <Col sm={4}>\r\n                            <SearchInput id=\"searchBar\"  onChange={this.search}></SearchInput>\r\n                        </Col>\r\n                        \r\n                    </Row><br/>\r\n                    <Row>\r\n                        <Col>\r\n                            {this.quotesList(filteredQuotes)}\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </Card>\r\n                <div style={{ height : 800}}></div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport axios from 'axios';\r\nimport Card from \"./Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form  from \"react-bootstrap/Form\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Collapse from \"react-bootstrap/Collapse\";\r\nimport Alert from \"react-bootstrap/Alert\"\r\n\r\nexport default class Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.login = this.login.bind(this);\r\n        this.onChangeLoginUsername = this.onChangeLoginUsername.bind(this);\r\n        this.onChangeLoginPassword = this.onChangeLoginPassword.bind(this);\r\n\r\n        this.state = {\r\n\r\n            inputEmail : '',\r\n            inputUsername : '',\r\n            inputPassword : '',\r\n            isEmail : false,\r\n\r\n            formErrors: {username: '', email: '', password: ''},\r\n            usernameValid : false,\r\n            emailValid: false,\r\n            passwordValid: false,\r\n            formValid: false,\r\n            loggedInUser : {},\r\n\r\n            error : false,\r\n            \r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n      \r\n\r\n\r\n    }\r\n\r\n    onChangeLoginUsername(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            inputUsername : e.target.value},\r\n            () => {this.validateField(fieldName, this.state.inputUsername)\r\n        });\r\n    }\r\n\r\n    onChangeLoginPassword(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            inputPassword : e.target.value},\r\n            () => {this.validateField(fieldName, this.state.inputPassword)\r\n        });\r\n    }\r\n\r\n    //  Validate Field function takes name of field that is being validated and the value in that field\r\n    //  Check if Email is valid format using regex\r\n    //  Check if Password is longer than 6 characters\r\n    //  Check if Username is longer than 4 chacracters\r\n    validateField(fieldName, value) {\r\n        let fieldValidateErrors = this.state.formErrors;\r\n        let passwordValid = this.state.passwordValid;\r\n        let usernameValid = this.state.usernameValid;\r\n\r\n        switch(fieldName) {\r\n            \r\n            case 'Password':\r\n                passwordValid = value.length >= 6;\r\n                fieldValidateErrors.password = passwordValid ? '' : ' is too short';\r\n                break;\r\n            \r\n            case 'Username':\r\n                \r\n                usernameValid = value.length >=4;\r\n                fieldValidateErrors.username = usernameValid ? '' : ' is too short';\r\n                \r\n                \r\n                break;\r\n\r\n            default:\r\n                break;\r\n\r\n        }\r\n\r\n        this.setState({formErrors : fieldValidateErrors, \r\n                        usernameValid : usernameValid, \r\n                        passwordValid : passwordValid\r\n                    },    \r\n                        this.validateForm);\r\n    }\r\n\r\n\r\n    login(e) {\r\n        e.preventDefault();\r\n\r\n        const loginAccount = {\r\n            userName : this.state.inputUsername,\r\n            userPassword : this.state.inputPassword,\r\n        }\r\n\r\n        let APIURL = ''\r\n        if (process.env.NODE_ENV === 'production') {\r\n            APIURL = 'https://typingtest.jdoyle.ie'\r\n        } else if (process.env.NODE_ENV === 'development') { \r\n            APIURL = 'http://localhost:8080'\r\n        }\r\n        \r\n        axios.post(APIURL + '/user/login' , loginAccount, {withCredentials:true})\r\n        .then(res => {\r\n            console.log(res.data)\r\n            localStorage.setItem(\"beepboop\", res.data);\r\n            \r\n            this.props.history.push({\r\n                             pathname : \"/profile\",\r\n                             \r\n            });\r\n        })\r\n        .catch(err => {\r\n            this.setState({\r\n                error : true\r\n            })\r\n        });\r\n        \r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <Card>\r\n                    <Row>  \r\n                        <Col sm={5}>\r\n                            <Form>\r\n                                <Form.Group >\r\n                                    <h4>Login</h4>\r\n                                    <Form.Label>User Name: </Form.Label>\r\n                                    <Form.Control \r\n                                        value={this.state.account_username}\r\n                                        id = \"inputLoginUserName\"\r\n                                        onChange = {this.onChangeLoginUsername}\r\n                                        name =\"Username\"\r\n                                    /><br />\r\n                                    \r\n                                    <Form.Label>Password: </Form.Label>\r\n                                    <Form.Control\r\n                                        type = \"password\"\r\n                                        value={this.state.account_password}\r\n                                        id = \"inputLoginPassword\"\r\n                                        onChange = {this.onChangeLoginPassword}\r\n                                        name = \"Password\"\r\n                                    />\r\n                                      \r\n                                </Form.Group>\r\n                                <Button type=\"submit\" variant=\"info\" onClick={this.login} >\r\n                                    Login\r\n                                </Button>\r\n\r\n                                <Link to=\"/account\">\r\n                                    <Button variant=\"secondary\" style={{ marginLeft : 10}}>\r\n                                        Create Account\r\n                                    </Button>\r\n                                </Link>\r\n                            </Form>\r\n                        </Col> \r\n                    </Row>\r\n                    <br></br>\r\n                    <Row>\r\n                        <Col sm={5}>\r\n                            <Collapse in={this.state.error}>\r\n                                <div>\r\n                                     <Alert variant={'danger'}>\r\n                                    <p>Username or Password Incorrect</p>\r\n                                </Alert>\r\n                                </div>\r\n                               \r\n                            </Collapse>\r\n                        </Col>\r\n                        \r\n                        \r\n                    </Row>\r\n                </Card>\r\n                <div style={{ height : 800}}></div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Card from \"./Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\n\r\n//import { FormErrors } from './FormErrors';\r\n\r\n\r\n// Account component for creating accounts\r\n// Includes clients side validation of credentials.\r\n\r\nexport default class Account extends Component {\r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n\r\n        this.onChangeAccountUsername = this.onChangeAccountUsername.bind(this);\r\n        this.onChangeAccountEmail = this.onChangeAccountEmail.bind(this);\r\n        this.onChangeAccountPassword = this.onChangeAccountPassword.bind(this);\r\n\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n\r\n            account_username:'',\r\n            account_email:'',\r\n            account_password:'',\r\n            account_favourties: [],\r\n            formErrors: {username: '', email: '', password: ''},\r\n            usernameValid : false,\r\n            emailValid: false,\r\n            passwordValid: false,\r\n            formValid: false,\r\n            loggedUser : {},\r\n\r\n            inputLoginPassword: '',\r\n            inputLoginUserName: ''\r\n        }\r\n    }\r\n\r\n    // Create Account inputs\r\n    onChangeAccountUsername(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            account_username: e.target.value},\r\n            () => {this.validateField(fieldName, this.state.account_username)           \r\n        });\r\n    }\r\n\r\n    onChangeAccountEmail(e) {\r\n        const fieldName = e.target.name;\r\n        //console.log(fieldName);\r\n        this.setState({\r\n            account_email: e.target.value},\r\n            () => {this.validateField(fieldName, this.state.account_email)\r\n        });  \r\n    }\r\n\r\n    onChangeAccountPassword(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            account_password: e.target.value},\r\n            () => {this.validateField(fieldName, this.state.account_password)\r\n        });\r\n    }\r\n\r\n    //  Validate Field function takes name of field that is being validated and the value in that field\r\n    //  Check if Email is valid format using regex\r\n    //  Check if Password is longer than 6 characters\r\n    //  Check if Username is longer than 4 chacracters\r\n    validateField(fieldName, value) {\r\n        let fieldValidateErrors = this.state.formErrors;\r\n        let emailValid = this.state.emailValid;\r\n        let passwordValid = this.state.passwordValid;\r\n        let usernameValid = this.state.usernameValid;\r\n\r\n        switch(fieldName) {\r\n            case 'Email' :\r\n                emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\r\n                fieldValidateErrors.email = emailValid ? '' : ' is invalid';\r\n                break;\r\n            \r\n            case 'Password':\r\n                passwordValid = value.length >= 6;\r\n                fieldValidateErrors.password = passwordValid ? '' : ' is too short';\r\n                break;\r\n            \r\n            case 'Username':\r\n                usernameValid = value.length >=4;\r\n                fieldValidateErrors.username = usernameValid ? '' : ' is too short';\r\n                break;\r\n\r\n            default:\r\n                break;\r\n\r\n        }\r\n\r\n        this.setState({formErrors : fieldValidateErrors, \r\n                        usernameValid : usernameValid,\r\n                        emailValid : emailValid, \r\n                        passwordValid : passwordValid\r\n                    },    \r\n                        this.validateForm);\r\n    }\r\n\r\n    // ValidaateForm function sets the current state of the fields of the form.\r\n    validateForm() {\r\n        this.setState({formValid:this.state.usernameValid && this.state.emailValid && this.state.passwordValid});\r\n    }\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        const newAccount = {\r\n            userName: this.state.account_username,\r\n            userEmail : this.state.account_email,\r\n            userPassword : this.state.account_password,\r\n            \r\n        }\r\n        let APIURL = ''\r\n        if (process.env.NODE_ENV === 'production') {\r\n            APIURL = 'https://typingtest.jdoyle.ie'\r\n        } else if (process.env.NODE_ENV === 'development') { \r\n            APIURL = 'http://localhost:8080'\r\n        }\r\n        \r\n        axios.post( APIURL + '/user/register', newAccount, {withCredentials:true})\r\n        .then(res => {\r\n            if(res.status(400)){\r\n                console.log('email in use')\r\n            }\r\n        })\r\n            \r\n        this.setState = ({\r\n            account_username:'',\r\n            account_email:'',\r\n            account_password:'',\r\n        });\r\n\r\n        this.props.history.push({\r\n            pathname : \"/login\",\r\n            \r\n            });\r\n    }\r\n\r\n  \r\n    componentDidMount() {\r\n\r\n        if (localStorage.getItem('beepboop')) {\r\n            this.props.history.push({\r\n                pathname : \"/profile\",\r\n                \r\n});\r\n        }\r\n\r\n        // axios.get('http://localhost:8080/user/',{withCredentials:true})\r\n        // .then(res => {\r\n        //     console.log(res.data)\r\n        //     if (res.data)\r\n        //     {\r\n        //         this.props.history.push({\r\n        //             pathname : \"/account/user\",\r\n        //             state : { loggedInUser : res.data}\r\n        //             });\r\n        //     }\r\n            \r\n        // })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <Card>\r\n                    <Row>  \r\n                           \r\n                        <Col sm={5}>\r\n                            <Form>\r\n                                <Form.Group >\r\n                                    <h4>Create Account</h4>\r\n                                    <Form.Label>User Name: </Form.Label>\r\n                                    <Form.Control \r\n                                        value={this.state.account_username}\r\n                                        id = \"inputUserName\"\r\n                                        onChange = {this.onChangeAccountUsername}\r\n                                        name = \"Username\"\r\n                                    /><br />\r\n\r\n                                    <Form.Label>Email: </Form.Label>\r\n                                    <Form.Control \r\n                                        value={this.state.account_email}\r\n                                        id = \"inputUserEmail\"\r\n                                        onChange = {this.onChangeAccountEmail}\r\n                                        name = \"Email\"\r\n                                    /><br />\r\n                                    \r\n                                    <Form.Label>Password: </Form.Label>\r\n                                    <Form.Control\r\n                                        type = \"password\"\r\n                                        value={this.state.account_password}\r\n                                        id = \"inputPassword\"\r\n                                        onChange = {this.onChangeAccountPassword}\r\n                                        name = \"Password\"\r\n                                    />\r\n                                      \r\n                                </Form.Group>\r\n                                <Button type=\"submit\" variant=\"info\" onClick={this.onSubmit} disabled={!this.state.formValid}>\r\n                                    Create Account\r\n                                </Button>\r\n                                \r\n                                <Link to=\"/login\">\r\n                                    <Button variant=\"secondary\" style={{ marginLeft : 10}}>\r\n                                        Login\r\n                                    </Button>\r\n                                </Link>\r\n                                \r\n                            </Form>\r\n                        </Col>\r\n                        <Col sm={2}></Col>\r\n                        \r\n                        \r\n                    </Row>\r\n\r\n                </Card>\r\n                <div style={{ height : 800}}></div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Card from \"./Card\";\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { Link } from \"react-router-dom\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport Badge from 'react-bootstrap/Badge';\r\nimport AutosizeInput from 'react-input-autosize'\r\n\r\n// Quote component\r\nconst Quote = props => (\r\n    <div>\r\n        <Alert variant=\"secondary\">\r\n            <Link to={{ pathname : '/', state: { id : props.quote._id }}} style={{color : '#202326'}}>\r\n                <Alert.Heading>{props.quote.quoteTitle} -{props.quote.quoteAuthor}</Alert.Heading>\r\n            </Link>\r\n            <span>{props.quote.quoteBody}</span>\r\n            <hr />\r\n            <Row>\r\n                <Col sm={8}>\r\n                    <span style={{marginLeft : 10}}>Approved : {String(props.quote.quoteApproved)}</span>\r\n                    <span style={{marginLeft : 10}}>Rating : {props.quote.quoteScore}</span>\r\n                    <span style={{marginLeft : 10}}>High Score : {props.quote.highWPMScore}WPM {props.quote.highAccScore}% Accuracy</span>\r\n\r\n                </Col>\r\n                <Col sm={4}>\r\n                    <div style={{float : 'right'}}>\r\n                        <Alert.Link style={{marginRight : 10}} onClick={props.edit}>\r\n                            Edit\r\n                        </Alert.Link>\r\n                        <Alert.Link onClick={props.delete}>\r\n                            Delete\r\n                        </Alert.Link>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </Alert>\r\n        <br></br>\r\n    </div>\r\n)\r\n\r\nexport default class Profile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.logout = this.logout.bind(this);\r\n        this.getQuotes = this.getQuotes.bind(this);\r\n        this.deleteAccount = this.deleteAccount.bind(this);\r\n        \r\n        this.editAccount = this.editAccount.bind(this);\r\n        this.approveButton = this.approveButton.bind(this);\r\n        this.editQuote = this.editQuote.bind(this);\r\n        this.deleteQuote = this.deleteQuote.bind(this);\r\n        this.deleteThisQuote = this.deleteThisQuote.bind(this);\r\n\r\n        this.handleDeleteAccountClose = this.handleDeleteAccountClose.bind(this);\r\n        this.handleDeleteQuoteClose = this.handleDeleteQuoteClose.bind(this);\r\n        this.handleEditQuoteClose = this.handleEditQuoteClose.bind(this);\r\n        this.saveQuote = this.saveQuote.bind(this);\r\n        this.validateField = this.validateField.bind(this);\r\n        this.validateForm = this.validateForm.bind(this);\r\n\r\n        this.onChangeQuoteTitle = this.onChangeQuoteTitle.bind(this);\r\n        this.onChangeQuoteAuthor = this.onChangeQuoteAuthor.bind(this);\r\n        this.onChangeQuoteBody = this.onChangeQuoteBody.bind(this);\r\n\r\n        this.state = {\r\n\r\n            id: '',\r\n            username : '',\r\n            email : '',\r\n            signUpDate : '',\r\n            personalBestWPM : 0,\r\n            personalBestAcc : 0,\r\n            quoteIds : [],\r\n            quotes : [],\r\n            APIURL : '',\r\n            unapprovedQuotesCount : 0,\r\n\r\n            deleteAccountModal : false,\r\n            deleteQuoteModal : false,\r\n            editQuoteModal : false,\r\n\r\n\r\n            quoteTitleValid : false,\r\n            quoteBodyValid : false,\r\n            quoteAuthorValid : false,\r\n            formValid : false, \r\n            formErrors : {quoteTitle: '', quoteBody : '', quoteAuthor : ''},\r\n\r\n            editQuote : {\r\n                quoteTitle : '',\r\n                quoteAuthor : '',\r\n                quoteBody : '',\r\n            },\r\n\r\n            deletingQuote : {\r\n                quoteTitle : '',\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let token = localStorage.getItem('beepboop')\r\n        let APIURL = ''\r\n        if (process.env.NODE_ENV === 'production') {\r\n            APIURL = 'https://typingtest.jdoyle.ie'\r\n            this.setState({\r\n                APIURL : 'https://typingtest.jdoyle.ie'\r\n            })\r\n        } else if (process.env.NODE_ENV === 'development') {\r\n            APIURL = 'http://localhost:8080'\r\n            this.setState({\r\n                APIURL : 'http://localhost:8080'\r\n            })\r\n        }\r\n        axios.get(APIURL + '/user/profile',{ headers : { 'auth-token' : token}}  )\r\n        .then( res => {\r\n\r\n            //console.log(this.state)\r\n            if (res.data.isAdmin) {\r\n                localStorage.setItem(\"nimdAis\", res.data.isAdmin)\r\n            }\r\n\r\n            if (res.data) {\r\n                console.log(res.data)\r\n                this.setState({\r\n                    id : res.data._id,\r\n                    username : res.data.userName,\r\n                    email : res.data.userEmail,\r\n                    signUpDate : res.data.signUpDate.slice(0, 15),\r\n                    personalBestWPM : res.data.personalBestWPM,\r\n                    personalBestAcc : res.data.personalBestAcc,\r\n                    quoteIds : res.data.quotesAdded\r\n                })\r\n                this.getQuotes();\r\n            }\r\n        })\r\n\r\n        //get unapproved quotes\r\n        axios.get(APIURL + '/quotes/unapproved', {headers : {'auth-token' : token}})\r\n            .then(response => {\r\n                if (response.data.length > 0) {\r\n                    this.setState({\r\n                    unapprovedQuotesCount : response.data.length\r\n                });\r\n                } else {\r\n                    this.setState({\r\n                        unapprovedQuotesCount : null\r\n                    })\r\n                }\r\n\r\n\r\n            })\r\n            .catch(function (err) {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    //#region Quotes list\r\n    getQuotes() {\r\n        if (this.state.quoteIds.length > 0) {\r\n            this.state.quoteIds.forEach(Id => {\r\n                axios.get(this.state.APIURL + '/quotes/' + Id)\r\n                .then(res => {\r\n\r\n                    if (res.data) {\r\n                        this.setState({\r\n                            quotes : [...this.state.quotes, res.data]\r\n                        })\r\n                    }\r\n                })\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    quotesComponentsList () {\r\n        let edit = this.editQuote;\r\n        let del = this.deleteQuote;\r\n        if (this.state.quotes.length > 0)\r\n        {\r\n            return this.state.quotes.map(function(currentQuote, i) {\r\n                return <Quote quote={currentQuote} key={i} index={i} edit={() => edit(currentQuote)} delete={() => del(currentQuote)}/>\r\n            })\r\n        }\r\n        else {\r\n            return  <Link to='/createQuote'><Button> Add Some Quotes!</Button></Link>\r\n        }\r\n\r\n    }\r\n    //#endregion\r\n\r\n\r\n    // Function that lets users edit a quote\r\n    editQuote(quote) {\r\n        //console.log(quote)\r\n        this.setState({\r\n            editQuote : quote\r\n        }, () => this.handleEditQuoteClose())\r\n    }\r\n\r\n    // Function that lets users delete a quote\r\n    deleteQuote(quote) {\r\n        this.setState({\r\n            deletingQuote : quote\r\n        }, () => this.handleDeleteQuoteClose())\r\n    }\r\n\r\n    deleteThisQuote() {\r\n        const quote = this.state.deletingQuote;\r\n\r\n        let token = localStorage.getItem('beepboop');\r\n        axios.post(this.state.APIURL + '/quotes/delete',  quote , { headers: { 'auth-token' : token}})\r\n        .then(res => {\r\n            console.log(res.data)\r\n            this.setState({\r\n                editQuoteModal : false\r\n            })\r\n            window.location.reload()\r\n        })\r\n        .catch(err => err)\r\n\r\n    }\r\n\r\n    //#region Edit Quote Modal Functions\r\n\r\n    onChangeQuoteTitle(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            editQuote : {\r\n                ...this.state.editQuote,\r\n                quoteTitle : e.target.value,\r\n            }\r\n        }, () => {this.validateField(fieldName, this.state.editQuote.quoteTitle)})\r\n    }\r\n\r\n    onChangeQuoteAuthor(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            editQuote : {\r\n                ...this.state.editQuote,\r\n                quoteAuthor : e.target.value\r\n            }\r\n        }, () => {this.validateField(fieldName, this.state.editQuote.quoteAuthor)})\r\n    }\r\n\r\n    onChangeQuoteBody(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            editQuote : {\r\n                ...this.state.editQuote,\r\n                quoteBody : e.target.value\r\n            }\r\n        }, () => {this.validateField(fieldName, this.state.editQuote.quoteBody)})\r\n    }\r\n\r\n    // Saves the new edited quote\r\n    saveQuote() {\r\n        let token = localStorage.getItem('beepboop');\r\n        let APIURL = ''\r\n       console.log(token)\r\n        const editedQuote = this.state.editQuote;\r\n        console.log(editedQuote)\r\n        console.log(this.state.APIURL)\r\n        axios.post(this.state.APIURL + '/quotes/update', editedQuote, { headers: { 'auth-token' : token}})\r\n        .then(res => {\r\n            console.log(res.data)\r\n            this.setState({\r\n                editQuoteModal : false\r\n            })\r\n            window.location.reload()\r\n        })\r\n        .catch(err => err)\r\n    }\r\n\r\n    validateField(fieldName, value) {\r\n        let fieldValidateErrors = this.state.formErrors;\r\n        let quoteTitleValid = this.state.quoteTitleValid;\r\n        let quoteBodyValid = this.state.quoteBodyValid;\r\n        let quoteAuthorValid = this.state.quoteAuthorValid;\r\n\r\n        console.log(value)\r\n        switch(fieldName) {\r\n            \r\n            case 'quoteTitle':\r\n                \r\n                quoteTitleValid = value.length >= 0 && value.length < 40;\r\n                fieldValidateErrors.quoteTitle = quoteTitleValid ? '' : ' must not be empty or greater than 20 characters.';\r\n                break;\r\n            \r\n            case 'quoteBody':\r\n                \r\n                quoteBodyValid = value.length >= 200  && value.length <= 350 ;\r\n                fieldValidateErrors.quoteBody = quoteBodyValid ? '' : ' is too short';\r\n                \r\n                break;\r\n\r\n            case 'quoteAuthor':\r\n\r\n                if (value.length === 0){\r\n                    quoteAuthorValid = true;\r\n                    this.setState((state) => ({\r\n                        quoteAuthor : state.username\r\n                    }), () => {fieldValidateErrors.quoteAuthor = quoteAuthorValid ? '' : ''})\r\n                    break;\r\n                }\r\n                else if (value.length <= 10) {\r\n                    quoteAuthorValid = true\r\n                    fieldValidateErrors.quoteAuthor = quoteAuthorValid ? '' : ' is short long';\r\n                    break;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n\r\n            default:\r\n                break;\r\n\r\n        }\r\n\r\n        this.setState({\r\n            formErrors : fieldValidateErrors, \r\n            quoteTitleValid : quoteTitleValid, \r\n            quoteBodyValid : quoteBodyValid,\r\n            quoteAuthorValid : quoteAuthorValid\r\n        },    \r\n            this.validateForm);\r\n        \r\n    }\r\n\r\n     // ValidaateForm function sets the current state of the fields of the form.\r\n     validateForm() {\r\n        console.log(this.state.quoteTitleValid, this.state.quoteBodyValid, this.state.quoteAuthorValid)\r\n        this.setState({\r\n            formValid:  this.state.quoteTitleValid &&\r\n                        this.state.quoteBodyValid && \r\n                        this.state.quoteAuthorValid,\r\n                    });\r\n\r\n    }\r\n\r\n\r\n    //#endregion\r\n\r\n    // deleteAccountModal() {\r\n    //    this.handleClose()\r\n    // }\r\n\r\n\r\n\r\n    //#region Modal Handlers\r\n        handleDeleteAccountClose (){\r\n                this.setState({\r\n                    deleteAccountModal : !this.state.deleteAccountModal\r\n                })\r\n            }\r\n\r\n        handleEditQuoteClose () {\r\n            this.setState({\r\n                editQuoteModal : !this.state.editQuoteModal\r\n            })\r\n        }\r\n\r\n        handleDeleteQuoteClose() {\r\n            this.setState({\r\n                deleteQuoteModal : !this.state.deleteQuoteModal\r\n            })\r\n        }\r\n    //#endregion\r\n\r\n\r\n    //#region Account Buttons\r\n    logout() {\r\n            localStorage.removeItem(\"beepboop\")\r\n            localStorage.removeItem('nimdAis')\r\n            this.props.history.push({\r\n                pathname : \"/login\",\r\n            })\r\n        }\r\n\r\n    deleteAccount() {\r\n        let token = localStorage.getItem('beepboop')\r\n        localStorage.removeItem('beepboop')\r\n\r\n        const user = {\r\n            userName : this.state.username,\r\n            userEmail : this.state.email\r\n        }\r\n        //console.log(user)\r\n        axios.post(this.state.APIURL + '/user/delete', user , {headers : {'auth-token' : token}})\r\n\r\n\r\n        this.props.history.push({\r\n            pathname : '/login'\r\n        });\r\n    }\r\n\r\n    editAccount() {\r\n        let token = localStorage.getItem('beepboop')\r\n\r\n        const user = {\r\n            userName : this.state.username,\r\n            userEmail : this.state.email,\r\n            userId : this.state.id,\r\n        }\r\n\r\n        this.props.history.push({\r\n            pathname : '/editAccount',\r\n            state : { id : this.state.id }\r\n        })\r\n\r\n\r\n    }\r\n\r\n    approveButton () {\r\n        if (localStorage.getItem('nimdAis')) {\r\n        return <Link to='/approveQuote'>\r\n                    <Button variant=\"outline-success\" style={{marginLeft : 10}}>Approve Quotes\r\n                        <Badge  variant=\"danger\" style={{marginLeft : 5}}>{this.state.unapprovedQuotesCount}</Badge>\r\n                    </Button>\r\n                </Link>\r\n        }\r\n    }\r\n    //#endregion\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"container\">\r\n                {/* Delete Account Modal */}\r\n                <Modal\r\n                    show={this.state.deleteAccountModal}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    centered\r\n                >\r\n                    <Modal.Header>\r\n                    <Modal.Title>Delete Account?</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        Are you sure you want to delete your account? This is not reversable.\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={this.handleDeleteAccountClose}>\r\n                        Nevermind\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={this.deleteAccount}>Delete Account</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                {/* Delete Quote Modal */}\r\n                <Modal\r\n                    show={this.state.deleteQuoteModal}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    centered\r\n                >\r\n                    <Modal.Header>\r\n                    <Modal.Title>Delete Quote?</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        Are you sure you want to delete {this.state.deletingQuote.quoteTitle}? This is not reversable and will delete the quotes top score and WPM.\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={this.handleDeleteQuoteClose}>\r\n                        Nevermind\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={this.deleteThisQuote}>Delete Quote</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                {/* Edit Quote Modal */}\r\n                <Modal\r\n                    show={this.state.editQuoteModal}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    size='xl'\r\n                    centered\r\n\r\n                >\r\n                    <Modal.Header>\r\n                        <Modal.Title>Edit Quote</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                    <div>\r\n                        <Alert variant=\"secondary\">\r\n                            <Form>\r\n                                <Alert.Heading>\r\n                                        <Row>\r\n                                            <Col m=\"auto\">\r\n\r\n                                                <Form.Control\r\n\r\n                                                    value={this.state.editQuote.quoteTitle}\r\n                                                    type='text'\r\n                                                    size='lg'\r\n                                                    onChange={this.onChangeQuoteTitle}\r\n                                                    name = 'quoteTitle'\r\n                                                />\r\n                                            </Col>\r\n                                            <Col xs=\"auto\"> -</Col>\r\n                                            <Col xs=\"auto\">\r\n\r\n                                                <Form.Control\r\n                                                        value={this.state.editQuote.quoteAuthor}\r\n                                                        type='text'\r\n                                                        style={{width : String(this.state.editQuote.quoteAuthor.length)}}\r\n                                                        size='lg'\r\n                                                        onChange={this.onChangeQuoteAuthor}\r\n                                                        name = 'quoteAuthor'\r\n                                                    />\r\n                                            </Col>\r\n                                        </Row>\r\n                                </Alert.Heading>\r\n\r\n                                <Form.Control\r\n                                    value={this.state.editQuote.quoteBody}\r\n                                    id = \"quoteBody\"\r\n                                    name = \"quoteBody\"\r\n                                    as=\"textarea\" rows = \"4\"\r\n                                    onChange={this.onChangeQuoteBody}\r\n                                />\r\n                            </Form>\r\n                        </Alert>\r\n                    </div>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={this.handleEditQuoteClose}>\r\n                            Nevermind\r\n                        </Button>\r\n                        <Button variant=\"success\" onClick={this.saveQuote} disabled={!this.state.formValid}>\r\n                            Save Quote\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Card>\r\n                    <Row>\r\n                        <Col sm={9}>\r\n                            <h3>{this.state.username}'s Profile</h3>\r\n                            <h5>Email:  {this.state.email}</h5>\r\n                            <h5>Date Joined:  {this.state.signUpDate}</h5>\r\n                        </Col>\r\n                        <Col sm={3}>\r\n                            <h4>Personal Best:</h4>\r\n                            <Alert variant=\"info\">\r\n                                <span>\r\n                                    WPM : {this.state.personalBestWPM} <br></br>\r\n                                    Accuracy : {this.state.personalBestAcc}% <br></br>\r\n                                </span>\r\n                            </Alert>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                    <Row>\r\n                        <Col >\r\n                            <br/>\r\n                            <Link to='/editAccount'>\r\n                                <Button variant=\"outline-info\" onClick={this.editAccount} style={{marginRight : 10}} disabled={false}>\r\n                                    Edit Account\r\n                                </Button>\r\n                            </Link>\r\n\r\n                            <Button variant=\"outline-warning\" onClick={this.logout} style={{marginRight : 10}}>\r\n                                Logout\r\n                            </Button>\r\n                            <Button variant=\"outline-danger\" onClick={this.handleDeleteQuoteClose}>\r\n                                Delete Account\r\n                            </Button>\r\n\r\n                            {this.approveButton()}\r\n                        </Col>\r\n                    </Row>\r\n                    <br/>\r\n                    <Row>\r\n                        <Col>\r\n                            <h4>Your Quotes:</h4>\r\n                            <div>\r\n                                {this.quotesComponentsList()}\r\n\r\n                            </div>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Card>\r\n                <div style={{ height : 800}}></div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Form from \"react-bootstrap/Form\"\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Card from \"./Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\n\r\nexport default class EditAccount extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.onChangeAccountUsername = this.onChangeAccountUsername.bind(this);\r\n        this.onChangeAccountEmail = this.onChangeAccountEmail.bind(this);\r\n        this.onChangeAccountPassword = this.onChangeAccountPassword.bind(this);\r\n        this.onChangeAccountConfirmPassword = this.onChangeAccountConfirmPassword.bind(this);\r\n        this.onChangeCurrentPassword = this.onChangeCurrentPassword.bind(this);\r\n        this.editAccount = this.editAccount.bind(this);\r\n        this.checkPassword = this.checkPassword.bind(this);\r\n        this.passwordsMatch = this.passwordsMatch.bind(this);\r\n\r\n        this.state ={\r\n\r\n            oldUser : {\r\n                id : '',\r\n                userName : '',\r\n                email : '',\r\n                password : '',\r\n            },\r\n\r\n            newInput : {\r\n                userName : '',\r\n                email : '',\r\n                password : '',\r\n                confirmPassword : '',\r\n                id : ''\r\n            },\r\n\r\n            newUser : {\r\n                userName : '',\r\n                email : '',\r\n                password : '',\r\n            },\r\n\r\n            onChangeCurrentPassword : '',\r\n            Modal : true,\r\n\r\n           token : ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let token = localStorage.getItem('beepboop')\r\n        let APIURL = ''\r\n        if (process.env.NODE_ENV === 'production') {\r\n            APIURL = 'https://typingtest.jdoyle.ie'\r\n            this.setState({\r\n                APIURL : 'https://typingtest.jdoyle.ie'\r\n            })\r\n        } else if (process.env.NODE_ENV === 'development') { \r\n            APIURL = 'http://localhost:8080'\r\n            this.setState({\r\n                APIURL : 'http://localhost:8080'\r\n            })\r\n        }\r\n        axios.get(APIURL + '/user/profile',{ headers : { 'auth-token' : token}}  )\r\n        .then( res => {\r\n            //console.log(this.state)\r\n            if (res.data) {\r\n                this.setState({\r\n                    oldUser : {\r\n                        id : res.data._id,\r\n                        userName : res.data.userName,\r\n                        email : res.data.userEmail,\r\n                    },\r\n                    token : token\r\n                })\r\n\r\n            }\r\n        })\r\n    \r\n    }\r\n\r\n    editAccount() {\r\n\r\n        const tempUser = this.state.newInput\r\n        console.log(tempUser)\r\n        //console.log(this.state.oldUser.password)\r\n        // Check if user has entered a new passowrd\r\n        if (this.state.newInput.password === \"\" && this.passwordsMatch) {\r\n            tempUser.password  = this.state.oldUser.password   \r\n        }\r\n        \r\n        // check if user has entered a new username\r\n        if (this.state.newInput.userName === '') {\r\n            tempUser.userName = this.state.oldUser.userName\r\n        } \r\n\r\n        // check if users has enetered a new email\r\n        if (this.state.newInput.email === '') {\r\n            tempUser.email = this.state.oldUser.email\r\n        } \r\n            \r\n        tempUser.id = this.state.oldUser.id\r\n        console.log(tempUser)\r\n        // post req\r\n        axios.post(this.state.APIURL + '/user/update', tempUser, { headers : {'auth-token' : this.state.token }})\r\n        .then(res => {\r\n            console.log(res.data)\r\n        }).catch(err => err)\r\n    }\r\n\r\n\r\n    // Create Account inputs\r\n    onChangeAccountUsername(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            newInput : {\r\n                userName : e.target.value,\r\n                email : this.state.newInput.email,\r\n                password : this.state.newInput.password,\r\n                confirmPassword : this.state.newInput.confirmPassword,\r\n            }},\r\n           // () => {this.validateField(fieldName, this.state.newUserName)} \r\n        );\r\n    }\r\n\r\n    onChangeAccountEmail(e) {\r\n        const fieldName = e.target.name;\r\n        //console.log(fieldName);\r\n        this.setState({\r\n            newInput : {\r\n\r\n               email: e.target.value,\r\n               userName : this.state.newInput.userName,\r\n               password : this.state.newInput.password,\r\n               confirmPassword : this.state.newInput.confirmPassword,\r\n            }},\r\n           // () => {this.validateField(fieldName, this.state.newEmail)}\r\n        );  \r\n    }\r\n\r\n    onChangeAccountPassword(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            newInput : {\r\n                password: e.target.value,\r\n                confirmPassword : this.state.newInput.confirmPassword,\r\n                userName : this.state.newInput.userName,\r\n                email : this.state.newInput.email,\r\n            }},\r\n           // () => {this.validateField(fieldName, this.state.newPassword)}\r\n        );\r\n    }\r\n\r\n    onChangeAccountConfirmPassword(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            newInput : {\r\n                confirmPassword: e.target.value,\r\n                userName : this.state.newInput.userName,\r\n                email : this.state.newInput.email,\r\n                passowrd : this.state.newInput.password,\r\n            }},\r\n           // () => {this.validateField(fieldName, this.state.newConfirmPassword)}\r\n        );\r\n    }\r\n\r\n    onChangeCurrentPassword(e) {\r\n        const fieldName = e.target.name;\r\n        this.setState({\r\n            onChangeCurrentPassword : e.target.value\r\n        })\r\n    }\r\n\r\n    checkPassword (){\r\n        const loginAccount = {\r\n            userName : this.state.oldUser.userName,\r\n            userPassword : this.state.onChangeCurrentPassword\r\n        }\r\n\r\n        this.setState((state) => ({\r\n            oldUser : {\r\n                ...state.oldUser,\r\n                password : loginAccount.userPassword\r\n            }\r\n        })\r\n\r\n        )\r\n        //console.log(loginAccount)\r\n        axios.post(this.state.APIURL + '/user/login' , loginAccount, {withCredentials:true})\r\n        .then(res => {\r\n            \r\n            if (res.data) {\r\n                //console.log('beep')\r\n                this.setState({\r\n                    Modal : false\r\n                })\r\n            }\r\n        }).catch (err => err) \r\n    }\r\n\r\n\r\n\r\n    // check if both entries of passwords match returns true / false\r\n    passwordsMatch() {\r\n        if (this.state.newPassword == this.state.newConfirmPassowrd) {\r\n            return true\r\n        }\r\n        else {\r\n            return false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n\r\n                <Modal\r\n                    show={this.state.Modal}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    centered\r\n                >\r\n                    <Modal.Header>\r\n                       <Modal.Title>Enter your current Password</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        Enter your current password to edit your Account.\r\n                        <Form>\r\n                            \r\n                            <Form.Control \r\n                                value={this.state.onChangeCurrentPassword}\r\n                                type = \"password\"\r\n                                id = \"inputUserName\"\r\n                                onChange = {this.onChangeCurrentPassword}\r\n                                name = \"Username\"\r\n                           />\r\n                        </Form>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                    <Link to=\"/profile\">\r\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\r\n                            Nevermind\r\n                        </Button>\r\n                    </Link>\r\n                    \r\n                    <Button variant=\"danger\" onClick={this.checkPassword}>Edit Account</Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n\r\n                <Card>\r\n                    <Row>\r\n                        <Col sm={5}>\r\n                            <Form>\r\n                                <Form.Group>\r\n                                    <h4>Edit Account</h4>\r\n                                    <Form.Label>User Name:</Form.Label>\r\n                                    <Form.Control \r\n                                        value={this.state.newInput.userName}\r\n                                        id = \"inputUserName\"\r\n                                        onChange = {this.onChangeAccountUsername}\r\n                                        name = \"Username\"\r\n                                        placeholder = {this.state.oldUser.userName}\r\n                                    /><br />\r\n\r\n                                    <Form.Label>Email: </Form.Label>\r\n                                    <Form.Control \r\n                                        value={this.state.newInput.email}\r\n                                        id = \"inputUserEmail\"\r\n                                        onChange = {this.onChangeAccountEmail}\r\n                                        name = \"Email\"\r\n                                        placeholder = {this.state.oldUser.email}\r\n                                    /><br />\r\n                                    \r\n                                    <Form.Label>Password: </Form.Label>\r\n                                    <Form.Control\r\n                                        type = \"password\"\r\n                                        value={this.state.newInput.password}\r\n                                        id = \"inputPassword\"\r\n                                        onChange = {this.onChangeAccountPassword}\r\n                                        name = \"Password\"\r\n                                    />\r\n                                    <Form.Label>Confirm Password: </Form.Label>\r\n                                    <Form.Control\r\n                                        type = \"password\"\r\n                                        value={this.state.newInput.confirmPassword}\r\n                                        id = \"inputConfirmPassword\"\r\n                                        onChange = {this.onChangeAccountConfirmPassword}\r\n                                        name = \"ConfirmPassword\"\r\n                                    />\r\n                                </Form.Group>\r\n\r\n                                 <Link to=\"/profile\">\r\n                                    <Button variant=\"secondary\" style={{ marginRight : 10}}>\r\n                                        Cancel\r\n                                    </Button>\r\n                                </Link>\r\n\r\n                                <Button  variant=\"info\" onClick={this.editAccount}>\r\n                                    Save\r\n                                </Button>\r\n                                \r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                </Card>\r\n                <div style={{ height : 800}}></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport axios from 'axios';\r\nimport Card from \"./Card\";\r\nimport styled from 'styled-components';\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nconst SearchInput = styled.input.attrs(props => ({\r\n    type : 'text',\r\n    placeholder : ' Search: Title, Author, User'\r\n    \r\n}))`\r\n    background: white;\r\n    border-radius: 5px;\r\n    border: 1px solid darkgray;\r\n    height : 35px;\r\n    margin-left : 80px;\r\n    width : 230px;\r\n    float: right;\r\n    :: disabled\r\n`\r\n\r\n// Quote component\r\nconst Quote = props => (\r\n    <div>\r\n        <Alert variant=\"secondary\">\r\n            <Link to={{ pathname : '/', state: { id : props.quote._id }}} style={{color : '#202326'}}>\r\n                <Alert.Heading>{props.quote.quoteTitle} -{props.quote.quoteAuthor}</Alert.Heading>\r\n            </Link>\r\n            <span>{props.quote.quoteBody}</span>\r\n            <hr />\r\n            <Row>\r\n                <Col sm={8}>\r\n                    <span>Added by: <Alert.Link>{props.quote.quoteUser}</Alert.Link></span>\r\n                    <span style={{marginLeft : 10}}>Approved : {String(props.quote.quoteApproved)}</span> \r\n                    <span style={{marginLeft : 10}}>Rating : {props.quote.quoteScore}</span> \r\n                    <span style={{marginLeft : 10}}>High Score : {props.quote.highWPMScore}WPM {props.quote.highAccScore}% Accuracy</span>\r\n                </Col>\r\n                <Col sm={4}>\r\n                    <div style={{float : 'right'}}>\r\n\r\n                        <Button variant=\"success\" style={{ marginRight : 5}} onClick={props.approve}  >\r\n                            Approve\r\n                        </Button>\r\n                        <Button variant=\"danger\" onClick={props.del}>\r\n                            Delete\r\n                        </Button>\r\n                    </div>\r\n                </Col>\r\n            </Row>    \r\n        </Alert>\r\n        <br></br>\r\n    </div>  \r\n)\r\n\r\nexport default class QuoteList extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.search = this.search.bind(this);\r\n        this.quotesList = this.quotesList.bind(this);\r\n        this.approveQuote = this.approveQuote.bind(this);\r\n        this.deleteQuote = this.deleteQuote.bind(this);\r\n        this.noQuotes = this.noQuotes.bind(this);\r\n\r\n        this.state = {\r\n            quotes: [],\r\n            search : '',\r\n            token : '',\r\n            APIURL : ''\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        let token = localStorage.getItem('beepboop');\r\n        let APIURL = ''\r\n        if (process.env.NODE_ENV === 'production') {\r\n            APIURL = 'https://typingtest.jdoyle.ie'\r\n            this.setState({\r\n                APIURL : 'https://typingtest.jdoyle.ie'\r\n            })\r\n        } else if (process.env.NODE_ENV === 'development') { \r\n            APIURL = 'http://localhost:8080'\r\n            this.setState({\r\n                APIURL : 'http://localhost:8080'\r\n            })\r\n        }\r\n        axios.get(APIURL + '/quotes/unapproved', {headers : {'auth-token' : token}})\r\n            .then(response => {\r\n                this.setState({ \r\n                    quotes : response.data,\r\n                    token : localStorage.getItem('beepboop')\r\n                });\r\n\r\n            })\r\n            .catch(function (err) {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    quotesList(quotesList) {\r\n        let approve = this.approveQuote;\r\n        let del = this.deleteQuote;\r\n        return quotesList.map(function(currentQuote, i, ){\r\n            return <Quote quote={currentQuote} key={i} index = {i}  approve={() => approve(currentQuote)} del={() => del(currentQuote)}/>\r\n        })\r\n    }\r\n\r\n    search() {\r\n        this.setState({\r\n            search : document.getElementById('searchBar').value\r\n        })\r\n        \r\n    }\r\n\r\n    approveQuote(currentQuote) {\r\n        console.log(currentQuote)\r\n        axios.post(this.state.APIURL + '/quotes/approve', currentQuote, { headers : {'auth-token' : this.state.token}})\r\n        .then(res => {\r\n            console.log(res.data)\r\n            this.setState({\r\n                quotes : []\r\n            })\r\n        })\r\n        console.log(currentQuote.quoteApproved)\r\n\r\n    }\r\n\r\n    deleteQuote() {\r\n        console.log('Delete')\r\n    }\r\n\r\n    noQuotes() {\r\n        if (this.state.quotes.length === 0) {\r\n            return <span>No quotes to approve!</span> \r\n        }\r\n    }\r\n   \r\n\r\n    \r\n\r\n    render() {\r\n        // filter funtion that works so amazingly well without needing more requests\r\n        let filteredQuotes = this.state.quotes.filter(\r\n            (quote) => {\r\n                return  quote.quoteTitle.toLowerCase().indexOf(this.state.search) !== -1 ||\r\n                        quote.quoteAuthor.toLowerCase().indexOf(this.state.search) !== -1 || \r\n                        quote.quoteUser.indexOf(this.state.search) !== -1;\r\n            }\r\n        )\r\n        return (\r\n            <div className=\"container\">\r\n                <Card>\r\n                    <Row>\r\n                        <Col sm={8}>\r\n                            <h4> Approve Quotes</h4>  \r\n                            \r\n                        </Col>\r\n                        <Col sm={4}>\r\n                            <SearchInput id=\"searchBar\"  onChange={this.search}></SearchInput>\r\n                        </Col>\r\n                        \r\n                    </Row><br/>\r\n                    <Row>\r\n                        <Col>\r\n                            <Link to='/profile'>\r\n                                <Button variant=\"info\">Back to Profile</Button>\r\n                            </Link>\r\n                        </Col> \r\n                    </Row><br/>\r\n                    <Row>\r\n                        <Col>\r\n                            {this.quotesList(filteredQuotes)}\r\n                            {this.noQuotes()}\r\n                        </Col>\r\n                    </Row>\r\n\r\n                </Card>\r\n                <div style={{ height : 800}}></div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { isAdmin } from '../utils/isAdmin';\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => {\r\n    return (\r\n\r\n        // Show the component only when the user is logged in\r\n        // Otherwise, redirect the user to /signin page\r\n        <Route {...rest} render={props => (\r\n            isAdmin() ?\r\n                <Component {...props} />\r\n            : <Redirect to=\"/profile\" />\r\n        )} />\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;","\r\nexport const isAdmin  = () => {\r\n    if (localStorage.getItem('nimdAis')) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}","export default {\r\n    colors: {\r\n        background : \"white\",\r\n        cardBackground : \"#white\",\r\n        buttonBackground : \"#5E81AC\",\r\n        textColor : \"black\",\r\n        buttonColor : \"ECEFF4\",\r\n\r\n    },\r\n\r\n    \r\n};","export default {\r\n    colors: {\r\n      background: \"#343A40\",\r\n      cardBackground: \"#3B4252\",\r\n      buttonBackground: \"#d08770\",\r\n      textColor: \"#ECEFF4\",\r\n      buttonColor: \"#2E3440\",\r\n    },\r\n  };","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n    background: ${props => props.theme.colors.background};\r\n    color: ${props => props.theme.colors.textColor};\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 0px;\r\n\r\n`;\r\n","import styled from \"styled-components\";\r\nimport React from 'react';\r\n\r\n\r\nconst Svg = styled.svg`\r\n width : 30px;\r\n height : 30px;\r\n alt=\"Typing Test;\r\n`;\r\n\r\nexport default({ className }) => ( \r\n    <Svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-keyboard-fill\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path fillRule=\"evenodd\" d=\"M0 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm13 .25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zM2.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 3 8.75v-.5A.25.25 0 0 0 2.75 8h-.5zM4 8.25A.25.25 0 0 1 4.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 4 8.75v-.5zM6.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 7 8.75v-.5A.25.25 0 0 0 6.75 8h-.5zM8 8.25A.25.25 0 0 1 8.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 8 8.75v-.5zM13.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zm0 2a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zm-3-2a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h1.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-1.5zm.75 2.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zM11.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zM9 6.25A.25.25 0 0 1 9.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 9 6.75v-.5zM7.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 8 6.75v-.5A.25.25 0 0 0 7.75 6h-.5zM5 6.25A.25.25 0 0 1 5.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 5 6.75v-.5zM2.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 4 6.75v-.5A.25.25 0 0 0 3.75 6h-1.5zM2 10.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zM4.25 10a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h5.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-5.5z\"/>\r\n    </Svg>\r\n)","import React, { useState } from 'react';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport { BrowserRouter as Router, Route, Link} from \"react-router-dom\"; \r\n\r\nimport TypingTest from './components/test.component';\r\nimport CreateQuote from './components/CreateQuote.component';\r\nimport Quotes from './components/quotes.component';\r\nimport Login from './components/login.component';\r\nimport Account from './components/account.component';\r\nimport Profile from './components/profile.component';\r\nimport EditAccount from './components/editAccount.component';\r\nimport ApproveQuote from './components/approveQuote.component';\r\n\r\nimport PrivateRoute from './components/privateRoute.component';\r\nimport './App.css';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport NavbarBrand from 'react-bootstrap/NavbarBrand';\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport lightTheme from \"./themes/light\";\r\nimport darkTheme from \"./themes/dark\";\r\n\r\n\r\nimport Container from \"./components/Container\";\r\nimport Button from 'react-bootstrap/Button';\r\nimport NavIcon from './components/NavIcon';\r\n\r\n\r\nconst App = () => {\r\n\r\n  const stored = localStorage.getItem(\"isDarkMode\");\r\n  \r\n  const [isDarkMode, setIsDarkMode] = useState( \r\n    stored === \"true\" ? true : false\r\n  );\r\n\r\n  \r\n\r\n  return (\r\n    <ThemeProvider theme={isDarkMode ? darkTheme : lightTheme}>\r\n      <Container>\r\n        \r\n        <Router>\r\n        <div className=\"container\">\r\n            <Navbar collapseOnSelect expand=\"lg\" bg={isDarkMode ? 'dark' : 'light'} variant={isDarkMode ? 'dark' : 'light'} sticky=\"top\">\r\n              <NavbarBrand>\r\n                <NavIcon></NavIcon>\r\n              </NavbarBrand>\r\n              <NavbarBrand>Typing Test</NavbarBrand>\r\n              <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n\r\n              <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                <Nav className=\"mr-auto\">\r\n                  <Link to=\"/\" className=\"nav-link\" id=\"navBarText\">Test</Link>\r\n                  <Link to=\"/quotes\" className=\"nav-link\">Quotes</Link>\r\n                  <Link to=\"/createQuote\" className=\"nav-link\">Create Quote</Link>\r\n                  <Link to=\"/account\" className=\"nav-link\">Account</Link>\r\n                </Nav>\r\n                <Nav>\r\n                  <Button variant=\"outline-secondary\" onClick={() => {\r\n                  setIsDarkMode(!isDarkMode);\r\n                  localStorage.setItem(\"isDarkMode\", !isDarkMode);\r\n                  }}>\r\n                  <svg width=\"1.5em\" height=\"1.5em\" viewBox=\"0 0 16 16\" className=\"bi bi-circle-half\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path fillRule=\"evenodd\" d=\"M8 15V1a7 7 0 1 1 0 14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z\"/>\r\n                  </svg>\r\n                </Button>\r\n                </Nav>\r\n              </Navbar.Collapse>\r\n            </Navbar>\r\n        </div>\r\n\r\n          <Route path=\"/\" exact component={TypingTest} />\r\n          <Route path=\"/createQuote\" component={CreateQuote} />\r\n          <Route path=\"/quotes\" component={Quotes} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/account\"exact component={Account} />\r\n          <Route path=\"/profile\" component={Profile} />\r\n          <Route path=\"/editAccount\" component={EditAccount} />\r\n          <PrivateRoute path=\"/approveQuote\" component={ApproveQuote} exact/>\r\n      \r\n        </Router>  \r\n      </Container>\r\n        \r\n    </ThemeProvider>\r\n   \r\n      \r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}