(this["webpackJsonptyping-test-app"]=this["webpackJsonptyping-test-app"]||[]).push([[0],{120:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(29),s=a.n(r),l=(a(94),a(86)),i=(a(95),a(13)),u=a(15),c=a(27),h=a(18),d=a(19),m=a(4),p=a(21),g=a(20),v=a(28),E=a(12),b=a(43),f=a(9),y=a(64),q=a(56),w=a(11),C=a(7),k=a(22),A=a(10),_=a.n(A);function Q(){var e=Object(v.a)(["\n  background: ",";\n  padding: 24px;\n  border-radius: 5px;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100px;\n"]);return Q=function(){return e},e}var S=k.b.div(Q(),(function(e){return e.theme.colors.cardBackground}));function j(){var e=Object(v.a)(["\n    background: white;\n    border-radius: 5px;\n    border: 1px solid darkgray;\n\n    :: disabled\n"]);return j=function(){return e},e}var O=k.b.input.attrs((function(e){return{type:"text"}}))(j()),P=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onInputChange=n.onInputChange.bind(Object(m.a)(n)),n.compare=n.compare.bind(Object(m.a)(n)),n.resetTest=n.resetTest.bind(Object(m.a)(n)),n.endTest=n.endTest.bind(Object(m.a)(n)),n.startTimer=n.startTimer.bind(Object(m.a)(n)),n.calculateWPM=n.calculateWPM.bind(Object(m.a)(n)),n.calculateHighScore=n.calculateHighScore.bind(Object(m.a)(n)),n.backspace=n.backspace.bind(Object(m.a)(n)),n.escFunction=n.escFunction.bind(Object(m.a)(n)),n.debugToggle=n.debugToggle.bind(Object(m.a)(n)),n.renderTooltip=n.renderTooltip.bind(Object(m.a)(n)),n.newTest=n.newTest.bind(Object(m.a)(n)),n.sendHighscores=n.sendHighscores.bind(Object(m.a)(n)),n.state={quote:[],quote_Title:"",quote_body:"",quote_author:"",user_input:"",quote_words:[],char_array:[],current_quote_char:"",typed_chars:"",current_quote_word:"",count:0,error_count:0,total_error_count:0,input_disabled:!1,quote_left:"",quote_right:"",quote_error:"",quote_start:"",err_arr:"",quote_class:"quote-current",tInterval:"",seconds:0,netWPM:0,accuracy:0,highestAcc:0,highestWPM:0,quote_score:0,quoteWPM:0,quoteAcc:0,quoteID:0,apiUrl:"",token:"",user:{},debug:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="";t=null!=this.props.location.state?this.props.location.state.id:"random";var a="";if(this.setState((function(e){return{apiUrl:"https://typingtest.jdoyle.ie"}})),a="https://typingtest.jdoyle.ie",_.a.get(a+"/quotes/"+t).then((function(t){e.setState((function(e){return{quote_Title:t.data.quoteTitle,quote_body:t.data.quoteBody,char_array:Array.from(t.data.quoteBody),current_quote_char:Array.from(t.data.quoteBody)[0],quote_start:t.data.quoteBody,quote_author:t.data.quoteAuthor,quote_score:t.data.quoteScore,quoteWPM:t.data.highWPMScore,quoteAcc:t.data.highAccScore,quoteID:t.data._id}}))})).catch((function(e){console.log(e)})),localStorage.getItem("beepboop")){var n=localStorage.getItem("beepboop");this.setState({token:n}),_.a.get(a+"/user/profile",{headers:{"auth-token":n}}).then((function(t){e.setState({user:t.data})}))}document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"startTimer",value:function(){var e=this.state.seconds+1;this.setState((function(t){return{seconds:e}}))}},{key:"escFunction",value:function(e){27===e.keyCode&&this.resetTest()}},{key:"debugToggle",value:function(){this.setState((function(e){return{debug:!e.debug}}))}},{key:"onInputChange",value:function(e){var t=this;if(this.state.count===this.state.char_array.length)return this.endTest(),void console.log("testing jenkins");if(8!==e.keyCode&&0===e.location){if(0===this.state.count){var a=setInterval(this.startTimer,1e3);this.setState((function(e){return{quote_start:"",seconds:0,tInterval:a}}))}this.setState({user_input:e.key},(function(){return t.compare(t.state.current_quote_char)}))}else 8===e.keyCode&&""!==this.state.err_arr&&this.state.error_count>0&&(this.state.error_count>0?this.setState((function(e){return{error_count:e.error_count-1}}),(function(){return t.backspace()})):this.backspace())}},{key:"backspace",value:function(){this.setState((function(e){return{err_arr:e.err_arr.slice(0,e.err_arr.length-1),count:e.count-1,current_quote_char:e.char_array[e.count-1],quote_left:e.typed_chars.slice(0,e.typed_chars.length-e.err_arr.length),typed_chars:e.typed_chars.slice(0,-1),quote_right:e.char_array.slice(e.count,e.char_array.length)}}))}},{key:"compare",value:function(e){var t=this;e===this.state.user_input?(console.log("match"),this.state.count>=this.state.char_array.length-1?this.setState((function(e){return{typed_chars:e.typed_chars+e.user_input}}),(function(){return t.endTest()})):this.setState((function(e){return{current_quote_char:e.char_array[e.count+1],count:e.count+1,typed_chars:e.typed_chars+e.user_input,quote_right:e.char_array.slice(e.count+2,e.char_array.length),user_input:"",quote_left:e.typed_chars+e.user_input,err_arr:"",quote_class:"quote-current"}})),document.getElementById("input").value=""):this.setState((function(e){return{err_arr:e.err_arr+e.char_array[e.count],current_quote_char:e.char_array[e.count+1],count:e.count+1,quote_class:"quote-warning",typed_chars:e.typed_chars+e.char_array[e.count],quote_error:e.err_arr,quote_right:e.char_array.slice(e.count+2,e.char_array.length),error_count:e.error_count+1,total_error_count:e.total_error_count+1}}))}},{key:"newTest",value:function(){var e=this;_.a.get(this.state.apiUrl+"/quotes/random").then((function(t){e.setState((function(e){return{quote_Title:t.data.quoteTitle,quote_body:t.data.quoteBody,char_array:Array.from(t.data.quoteBody),current_quote_char:Array.from(t.data.quoteBody)[0],quote_start:t.data.quoteBody,quote_author:t.data.quoteAuthor}}))})).catch((function(e){console.log(e)})),this.resetTest()}},{key:"resetTest",value:function(){var e,t,a=this.state.quote_body;e=a.split(" "),t=Array.from(a),clearInterval(this.state.tInterval),document.getElementById("input").value="",document.getElementById("input").focus(),this.setState((function(a){return{quote_Title:a.quote_Title,quote_body:a.quote_body,quote_words:e,current_quote_word:e[0],char_array:t,quote_start:a.quote_body,current_quote_char:a.char_array[0],err_arr:"",user_input:"",quote_left:"",quote_right:"",typed_chars:"",error_count:0,quote_class:"quote_current",quote_error:"",total_error_count:0,count:0,seconds:0,input_disabled:!1}}))}},{key:"endTest",value:function(){var e=this;clearInterval(this.state.tInterval);var t=this.state.char_array.length-this.state.total_error_count,a=this.state.netWPM,n=this.state.accuracy;document.activeElement.blur(),document.getElementById("input").focus(),this.setState((function(a){return{error_count:a.error_count,accuracy:Math.ceil(t/a.char_array.length*100),input_disabled:!0,current_quote_char:"",quote_left:a.quote_body,seconds:0,err_arr:"",netWPM:Math.ceil(e.calculateWPM())}}),(function(){return e.calculateHighScore(n,a)}))}},{key:"calculateHighScore",value:function(e,t){var a=this,n=this.state.accuracy,o=this.state.netWPM,r=0,s=0;console.log(t,this.state.quoteWPM),o>t&&(this.setState({highestAcc:n,highestWPM:o}),r=o,s=n,""!==this.state.token&&(console.log(r),console.log(s),r>this.state.user.personalBestWPM&&(console.log("you were better"),this.setState((function(e){return{user:Object(c.a)(Object(c.a)({},a.state.user),{},{personalBestAcc:s,personalBestWPM:r})}}),(function(){return a.sendHighscores(a.state.user)}))),t>=this.state.quoteWPM&&(console.log("calling"),this.setState({quoteWPM:r,quoteAcc:s},(function(){return a.sendQuoteScores()})))))}},{key:"sendHighscores",value:function(e){console.log(e),_.a.post(this.state.apiUrl+"/user/updateHS",e,{headers:{"auth-token":this.state.token}}).then((function(e){return console.log(e.data)})).catch((function(e){return e}))}},{key:"sendQuoteScores",value:function(){var e={quoteWPM:this.state.quoteWPM,quoteAcc:this.state.quoteAcc,_id:this.state.quoteID};_.a.post(this.state.apiUrl+"/quotes/updateHS",e,{headers:{"auth-token":this.state.token}}).then((function(e){return console.log(e.data)})).catch((function(e){return e}))}},{key:"calculateWPM",value:function(){var e=this.state.seconds/60,t=this.state.error_count;return this.state.typed_chars.length/5/e-t/e}},{key:"renderTooltip",value:function(e){if(null!=e.popper.state){if("restartBtn"===e.popper.state.elements.reference.id)return o.a.createElement(q.a,Object.assign({id:"button-tooltip"},e),"Restart Test");if("newTestBtn"===e.popper.state.elements.reference.id)return o.a.createElement(q.a,Object.assign({id:"button-tooltip"},e),"Start New Test");if("debugBtn"===e.popper.state.elements.reference.id)return o.a.createElement(q.a,Object.assign({id:"button-tooltip"},e),"Show debug Info")}return o.a.createElement(q.a,e,"tes")}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(S,null,o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:8},o.a.createElement("h4",null,this.state.quote_Title," - ",this.state.quote_author),o.a.createElement(E.a,{variant:"secondary"},o.a.createElement("span",{className:"quote-left"},this.state.quote_left),o.a.createElement("span",{className:"quote-error"},this.state.err_arr),o.a.createElement("span",{className:this.state.quote_class},this.state.current_quote_char),o.a.createElement("span",{className:"quote-start"},this.state.quote_start.slice(1)),o.a.createElement("span",{className:"quote-right"},this.state.quote_right),o.a.createElement("hr",null),o.a.createElement("span",null,"Best Score: ",this.state.quoteWPM,"WPM ",this.state.quoteAcc,"% Accuracy"))),o.a.createElement(C.a,{sm:4},o.a.createElement("h4",null,"High Scores"),o.a.createElement(E.a,{variant:"info"},o.a.createElement("span",null,"WPM : ",this.state.highestWPM," ",o.a.createElement("br",null),"Accuracy : ",this.state.highestAcc,"% ",o.a.createElement("br",null))))),o.a.createElement(w.a,null,o.a.createElement(C.a,null,o.a.createElement("h5",null,"Current Character: ",this.state.current_quote_char))),o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:8},o.a.createElement(O,{onKeyDown:this.onInputChange,id:"input",disabled:this.state.input_disabled}),o.a.createElement(y.a,{placement:"top",delay:{show:250,hide:400},overlay:this.renderTooltip,name:"restartOverlay"},o.a.createElement(f.a,{onClick:this.resetTest,style:{marginLeft:10},variant:"secondary",id:"restartBtn"},o.a.createElement("svg",{className:"bi bi-arrow-repeat",width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M2.854 7.146a.5.5 0 00-.708 0l-2 2a.5.5 0 10.708.708L2.5 8.207l1.646 1.647a.5.5 0 00.708-.708l-2-2zm13-1a.5.5 0 00-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 00-.708.708l2 2a.5.5 0 00.708 0l2-2a.5.5 0 000-.708z",clipRule:"evenodd"}),o.a.createElement("path",{fillRule:"evenodd",d:"M8 3a4.995 4.995 0 00-4.192 2.273.5.5 0 01-.837-.546A6 6 0 0114 8a.5.5 0 01-1.001 0 5 5 0 00-5-5zM2.5 7.5A.5.5 0 013 8a5 5 0 009.192 2.727.5.5 0 11.837.546A6 6 0 012 8a.5.5 0 01.501-.5z",clipRule:"evenodd"})))),o.a.createElement(y.a,{placement:"top",delay:{show:250,hide:400},overlay:this.renderTooltip},o.a.createElement(f.a,{onClick:this.newTest,variant:"info",style:{marginLeft:10},id:"newTestBtn",name:"newTestBtn"},o.a.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-plus",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"}),o.a.createElement("path",{fillRule:"evenodd",d:"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"}))))),o.a.createElement(C.a,{sm:4},o.a.createElement(y.a,{placement:"left",delay:{show:250,hide:400},overlay:this.renderTooltip},o.a.createElement(f.a,{onClick:this.debugToggle,variant:"outline-warning",style:{float:"right"},id:"debugBtn",name:"debugBtn"},o.a.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-bug",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6H4a3.99 3.99 0 0 1 1.333-2.982A3.983 3.983 0 0 1 8 2c1.025 0 1.959.385 2.666 1.018A3.989 3.989 0 0 1 12 6z"})))))),o.a.createElement("br",null),o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:8},o.a.createElement(b.a,{in:this.state.input_disabled},o.a.createElement("div",{id:"results"},o.a.createElement(E.a,{variant:"success"},o.a.createElement(E.a.Heading,null,"Well Done!"),o.a.createElement("p",null,"Here are your results:",o.a.createElement("br",null),"WPM : ",this.state.netWPM," ",o.a.createElement("br",null),"Accuracy : ",this.state.accuracy,"% ",o.a.createElement("br",null),"Errors : ",this.state.total_error_count,o.a.createElement("br",null),"Corrected Errors : ",this.state.error_count))))),o.a.createElement(C.a,{sm:4},o.a.createElement(b.a,{in:this.state.debug},o.a.createElement("div",null,o.a.createElement(E.a,{variant:"warning"},o.a.createElement(E.a.Heading,null,"Debug"),o.a.createElement("p",null,"Error array : ",this.state.err_arr,o.a.createElement("br",null),"quote length : ",this.state.char_array.length,o.a.createElement("br",null),"Input count : ",this.state.count,o.a.createElement("br",null),"Error Count : ",this.state.error_count,o.a.createElement("br",null),"Total Error Count : ",this.state.total_error_count,o.a.createElement("br",null),"Previous character : ",this.state.char_array[this.state.count-1],o.a.createElement("br",null),"Current character : ",this.state.char_array[this.state.count],o.a.createElement("br",null),"Next character : ",this.state.char_array[this.state.count+1],o.a.createElement("br",null),"Quote left : ",this.state.quote_left,o.a.createElement("br",null),"Quote green : ",this.state.current_quote_char,o.a.createElement("br",null),"Quote right : ",this.state.quote_right,o.a.createElement("br",null),"Quote error : ",this.state.quote_error))))))),o.a.createElement("div",{style:{height:800}}))}}]),a}(n.Component),T=a(8),B=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).checkLogin=n.checkLogin.bind(Object(m.a)(n)),n.onChangeQuoteTitle=n.onChangeQuoteTitle.bind(Object(m.a)(n)),n.onChangeQuoteBody=n.onChangeQuoteBody.bind(Object(m.a)(n)),n.onChangeQuoteAuthor=n.onChangeQuoteAuthor.bind(Object(m.a)(n)),n.validateField=n.validateField.bind(Object(m.a)(n)),n.validateForm=n.validateForm.bind(Object(m.a)(n)),n.addQuote=n.addQuote.bind(Object(m.a)(n)),n.state={loggedIn:!1,quoteTitleValid:!1,quoteBodyValid:!1,quoteAuthorValid:!1,formValid:!1,formErrors:{quoteTitle:"",quoteBody:"",quoteAuthor:""},formValidAndUser:!1,userName:"",id:"",quoteTitle:"",quoteBody:"",quoteAuthor:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.getItem("beepboop")){this.checkLogin();var t=localStorage.getItem("beepboop"),a="";a="https://typingtest.jdoyle.ie",_.a.get(a+"/user/profile",{headers:{"auth-token":t}}).then((function(t){console.log(e.state),t.data&&e.setState({userName:t.data.userName,id:t.data._id})}))}}},{key:"addQuote",value:function(e){var t=this;e.preventDefault();var a={quoteTitle:this.state.quoteTitle,quoteBody:this.state.quoteBody,quoteAuthor:this.state.quoteAuthor,quoteUser:this.state.userName},n=localStorage.getItem("beepboop"),o="";o="https://typingtest.jdoyle.ie",_.a.post(o+"/quotes/add",a,{headers:{"auth-token":n}}).then((function(e){var a={userId:t.state.id,quoteId:e.data};_.a.post(o+"/user/addQuote",a,{headers:{"auth-token":n}}),t.props.history.push({pathname:"/profile"})})).catch((function(e){return e}))}},{key:"checkLogin",value:function(){this.setState({loggedIn:!0})}},{key:"onChangeQuoteTitle",value:function(e){var t=this,a=e.target.name;this.setState({quoteTitle:e.target.value},(function(){t.validateField(a,t.state.quoteTitle)}))}},{key:"onChangeQuoteBody",value:function(e){var t=this,a=e.target.name;this.setState({quoteBody:e.target.value},(function(){t.validateField(a,t.state.quoteBody)}))}},{key:"onChangeQuoteAuthor",value:function(e){var t=this,a=e.target.name;this.setState({quoteAuthor:e.target.value},(function(){t.validateField(a,t.state.quoteAuthor)}))}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,n=this.state.quoteTitleValid,o=this.state.quoteBodyValid,r=this.state.quoteAuthorValid;switch(e){case"quoteTitle":n=t.length>=0&&t.length<40,a.quoteTitle=n?"":" must not be empty or greater than 20 characters.";break;case"quoteBody":o=t.length>=200&&t.length<=350,a.quoteBody=o?"":" is too short";break;case"quoteAuthor":if(0===t.length){r=!0,this.setState((function(e){return{quoteAuthor:e.username}}),(function(){a.quoteAuthor=""}));break}if(t.length<=10){r=!0,a.quoteAuthor=r?"":" is short long";break}}this.setState({formErrors:a,quoteTitleValid:n,quoteBodyValid:o,quoteAuthorValid:r},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.quoteTitleValid&&this.state.quoteBodyValid&&this.state.quoteAuthorValid,formValidAndUser:this.state.formValid&&this.state.loggedIn})}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(S,null,o.a.createElement(w.a,null,o.a.createElement(C.a,null,o.a.createElement("h4",null,"Create Quote"),o.a.createElement("br",null),o.a.createElement(E.a,{variant:"secondary"},o.a.createElement(T.a,null,o.a.createElement(E.a.Heading,null,o.a.createElement(w.a,null,o.a.createElement(C.a,{m:"auto"},o.a.createElement(T.a.Control,{value:this.state.quoteTitle,type:"text",size:"lg",onChange:this.onChangeQuoteTitle,name:"quoteTitle",placeholder:"Quote Title"})),o.a.createElement(C.a,{xs:"auto"}," -"),o.a.createElement(C.a,{xs:"auto"},o.a.createElement(T.a.Control,{value:this.state.quoteAuthor,type:"text",size:"lg",onChange:this.onChangeQuoteAuthor,name:"quoteAuthor",placeholder:"Quote Author"})))),o.a.createElement(T.a.Text,{className:"text-muted",style:{float:"left"}},"Quote titles must be shorter than 40 characters."),o.a.createElement(T.a.Text,{className:"text-muted",style:{float:"right"}},"Add the original Author of the Quote."),o.a.createElement(T.a.Control,{value:this.state.quoteBody,id:"quoteBody",name:"quoteBody",as:"textarea",rows:"4",onChange:this.onChangeQuoteBody,placeholder:"Main Body of Quote"}),o.a.createElement(T.a.Text,{className:"text-muted"},"Main text of the Quote must be between 200 and 350 characters."),o.a.createElement(T.a.Text,{className:"text-muted"},"All Quotes will be approved by an admin before they can be used for testing."))),o.a.createElement(f.a,{type:"submit",variant:"info",onClick:this.addQuote,disabled:!this.state.formValidAndUser},"Create Quote"),o.a.createElement(T.a.Text,{className:"text-muted"},"You must be logged in to add a Quote.")))),o.a.createElement("div",{style:{height:800}}))}}]),a}(n.Component);function I(){var e=Object(v.a)(["\n    background: white;\n    border-radius: 5px;\n    border: 1px solid darkgray;\n    height : 35px;\n    margin-left : 80px;\n    width : 230px;\n    float: right;\n    :: disabled\n"]);return I=function(){return e},e}var M=k.b.input.attrs((function(e){return{type:"text",placeholder:" Search: Title, Author, User"}}))(I()),U=function(e){return o.a.createElement("div",null,o.a.createElement(E.a,{variant:"secondary"},o.a.createElement(i.b,{to:{pathname:"/",state:{id:e.quote._id}},style:{color:"#202326"}},o.a.createElement(E.a.Heading,null,e.quote.quoteTitle," -",e.quote.quoteAuthor)),o.a.createElement("span",null,e.quote.quoteBody),o.a.createElement("hr",null),o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:8},o.a.createElement("span",null,"Added by: ",o.a.createElement(E.a.Link,null,e.quote.quoteUser))),o.a.createElement(C.a,{sm:4},o.a.createElement("div",{style:{float:"right"}},o.a.createElement(E.a.Link,{variant:"outline-seconary"},"Suggest Edit"))))),o.a.createElement("br",null))},L=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).search=n.search.bind(Object(m.a)(n)),n.quotesList=n.quotesList.bind(Object(m.a)(n)),n.state={quotes:[],search:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="";t="https://typingtest.jdoyle.ie",_.a.get(t+"/quotes/approved").then((function(t){e.setState({quotes:t.data})})).catch((function(e){console.log(e)}))}},{key:"quotesList",value:function(e){return e.map((function(e,t){return o.a.createElement(U,{quote:e,key:t,index:t})}))}},{key:"search",value:function(){this.setState({search:document.getElementById("searchBar").value})}},{key:"render",value:function(){var e=this,t=this.state.quotes.filter((function(t){return-1!==t.quoteTitle.toLowerCase().indexOf(e.state.search)||-1!==t.quoteAuthor.toLowerCase().indexOf(e.state.search)||-1!==t.quoteUser.indexOf(e.state.search)}));return o.a.createElement("div",{className:"container"},o.a.createElement(S,null,o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:8},o.a.createElement("h4",null,"Quotes")),o.a.createElement(C.a,{sm:4},o.a.createElement(M,{id:"searchBar",onChange:this.search}))),o.a.createElement("br",null),o.a.createElement(w.a,null,o.a.createElement(C.a,null,this.quotesList(t)))),o.a.createElement("div",{style:{height:800}}))}}]),a}(n.Component),x=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).login=n.login.bind(Object(m.a)(n)),n.onChangeLoginUsername=n.onChangeLoginUsername.bind(Object(m.a)(n)),n.onChangeLoginPassword=n.onChangeLoginPassword.bind(Object(m.a)(n)),n.state={inputEmail:"",inputUsername:"",inputPassword:"",isEmail:!1,formErrors:{username:"",email:"",password:""},usernameValid:!1,emailValid:!1,passwordValid:!1,formValid:!1,loggedInUser:{},error:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onChangeLoginUsername",value:function(e){var t=this,a=e.target.name;this.setState({inputUsername:e.target.value},(function(){t.validateField(a,t.state.inputUsername)}))}},{key:"onChangeLoginPassword",value:function(e){var t=this,a=e.target.name;this.setState({inputPassword:e.target.value},(function(){t.validateField(a,t.state.inputPassword)}))}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,n=this.state.passwordValid,o=this.state.usernameValid;switch(e){case"Password":n=t.length>=6,a.password=n?"":" is too short";break;case"Username":o=t.length>=4,a.username=o?"":" is too short"}this.setState({formErrors:a,usernameValid:o,passwordValid:n},this.validateForm)}},{key:"login",value:function(e){var t=this;e.preventDefault();var a={userName:this.state.inputUsername,userPassword:this.state.inputPassword},n="";n="https://typingtest.jdoyle.ie",_.a.post(n+"/user/login",a,{withCredentials:!0}).then((function(e){console.log(e.data),localStorage.setItem("beepboop",e.data),t.props.history.push({pathname:"/profile"})})).catch((function(e){t.setState({error:!0})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(S,null,o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:5},o.a.createElement(T.a,null,o.a.createElement(T.a.Group,null,o.a.createElement("h4",null,"Login"),o.a.createElement(T.a.Label,null,"User Name: "),o.a.createElement(T.a.Control,{value:this.state.account_username,id:"inputLoginUserName",onChange:this.onChangeLoginUsername,name:"Username"}),o.a.createElement("br",null),o.a.createElement(T.a.Label,null,"Password: "),o.a.createElement(T.a.Control,{type:"password",value:this.state.account_password,id:"inputLoginPassword",onChange:this.onChangeLoginPassword,name:"Password"})),o.a.createElement(f.a,{type:"submit",variant:"info",onClick:this.login},"Login"),o.a.createElement(i.b,{to:"/account"},o.a.createElement(f.a,{variant:"secondary",style:{marginLeft:10}},"Create Account"))))),o.a.createElement("br",null),o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:5},o.a.createElement(b.a,{in:this.state.error},o.a.createElement("div",null,o.a.createElement(E.a,{variant:"danger"},o.a.createElement("p",null,"Username or Password Incorrect"))))))),o.a.createElement("div",{style:{height:800}}))}}]),a}(n.Component),N=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onChangeAccountUsername=n.onChangeAccountUsername.bind(Object(m.a)(n)),n.onChangeAccountEmail=n.onChangeAccountEmail.bind(Object(m.a)(n)),n.onChangeAccountPassword=n.onChangeAccountPassword.bind(Object(m.a)(n)),n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n.state={account_username:"",account_email:"",account_password:"",account_favourties:[],formErrors:{username:"",email:"",password:""},usernameValid:!1,emailValid:!1,passwordValid:!1,formValid:!1,loggedUser:{},inputLoginPassword:"",inputLoginUserName:""},n}return Object(d.a)(a,[{key:"onChangeAccountUsername",value:function(e){var t=this,a=e.target.name;this.setState({account_username:e.target.value},(function(){t.validateField(a,t.state.account_username)}))}},{key:"onChangeAccountEmail",value:function(e){var t=this,a=e.target.name;this.setState({account_email:e.target.value},(function(){t.validateField(a,t.state.account_email)}))}},{key:"onChangeAccountPassword",value:function(e){var t=this,a=e.target.name;this.setState({account_password:e.target.value},(function(){t.validateField(a,t.state.account_password)}))}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,n=this.state.emailValid,o=this.state.passwordValid,r=this.state.usernameValid;switch(e){case"Email":n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.email=n?"":" is invalid";break;case"Password":o=t.length>=6,a.password=o?"":" is too short";break;case"Username":r=t.length>=4,a.username=r?"":" is too short"}this.setState({formErrors:a,usernameValid:r,emailValid:n,passwordValid:o},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.usernameValid&&this.state.emailValid&&this.state.passwordValid})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={userName:this.state.account_username,userEmail:this.state.account_email,userPassword:this.state.account_password},a="";a="https://typingtest.jdoyle.ie",_.a.post(a+"/user/register",t,{withCredentials:!0}).then((function(e){e.status(400)&&console.log("email in use")})),this.setState={account_username:"",account_email:"",account_password:""},this.props.history.push({pathname:"/login"})}},{key:"componentDidMount",value:function(){localStorage.getItem("beepboop")&&this.props.history.push({pathname:"/profile"})}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(S,null,o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:5},o.a.createElement(T.a,null,o.a.createElement(T.a.Group,null,o.a.createElement("h4",null,"Create Account"),o.a.createElement(T.a.Label,null,"User Name: "),o.a.createElement(T.a.Control,{value:this.state.account_username,id:"inputUserName",onChange:this.onChangeAccountUsername,name:"Username"}),o.a.createElement("br",null),o.a.createElement(T.a.Label,null,"Email: "),o.a.createElement(T.a.Control,{value:this.state.account_email,id:"inputUserEmail",onChange:this.onChangeAccountEmail,name:"Email"}),o.a.createElement("br",null),o.a.createElement(T.a.Label,null,"Password: "),o.a.createElement(T.a.Control,{type:"password",value:this.state.account_password,id:"inputPassword",onChange:this.onChangeAccountPassword,name:"Password"})),o.a.createElement(f.a,{type:"submit",variant:"info",onClick:this.onSubmit,disabled:!this.state.formValid},"Create Account"),o.a.createElement(i.b,{to:"/login"},o.a.createElement(f.a,{variant:"secondary",style:{marginLeft:10}},"Login")))),o.a.createElement(C.a,{sm:2}))),o.a.createElement("div",{style:{height:800}}))}}]),a}(n.Component),V=a(87),F=a(14),D=a(85),W=(a(119),function(e){return o.a.createElement("div",null,o.a.createElement(E.a,{variant:"secondary"},o.a.createElement(i.b,{to:{pathname:"/",state:{id:e.quote._id}},style:{color:"#202326"}},o.a.createElement(E.a.Heading,null,e.quote.quoteTitle," -",e.quote.quoteAuthor)),o.a.createElement("span",null,e.quote.quoteBody),o.a.createElement("hr",null),o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:8},o.a.createElement("span",{style:{marginLeft:10}},"Approved : ",String(e.quote.quoteApproved)),o.a.createElement("span",{style:{marginLeft:10}},"Rating : ",e.quote.quoteScore),o.a.createElement("span",{style:{marginLeft:10}},"High Score : ",e.quote.highWPMScore,"WPM ",e.quote.highAccScore,"% Accuracy")),o.a.createElement(C.a,{sm:4},o.a.createElement("div",{style:{float:"right"}},o.a.createElement(E.a.Link,{style:{marginRight:10},onClick:e.edit},"Edit"),o.a.createElement(E.a.Link,{onClick:e.delete},"Delete"))))),o.a.createElement("br",null))}),H=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).logout=n.logout.bind(Object(m.a)(n)),n.getQuotes=n.getQuotes.bind(Object(m.a)(n)),n.deleteAccount=n.deleteAccount.bind(Object(m.a)(n)),n.editAccount=n.editAccount.bind(Object(m.a)(n)),n.approveButton=n.approveButton.bind(Object(m.a)(n)),n.editQuote=n.editQuote.bind(Object(m.a)(n)),n.deleteQuote=n.deleteQuote.bind(Object(m.a)(n)),n.deleteThisQuote=n.deleteThisQuote.bind(Object(m.a)(n)),n.handleDeleteAccountClose=n.handleDeleteAccountClose.bind(Object(m.a)(n)),n.handleDeleteQuoteClose=n.handleDeleteQuoteClose.bind(Object(m.a)(n)),n.handleEditQuoteClose=n.handleEditQuoteClose.bind(Object(m.a)(n)),n.saveQuote=n.saveQuote.bind(Object(m.a)(n)),n.validateField=n.validateField.bind(Object(m.a)(n)),n.validateForm=n.validateForm.bind(Object(m.a)(n)),n.onChangeQuoteTitle=n.onChangeQuoteTitle.bind(Object(m.a)(n)),n.onChangeQuoteAuthor=n.onChangeQuoteAuthor.bind(Object(m.a)(n)),n.onChangeQuoteBody=n.onChangeQuoteBody.bind(Object(m.a)(n)),n.state={id:"",username:"",email:"",signUpDate:"",personalBestWPM:0,personalBestAcc:0,quoteIds:[],quotes:[],APIURL:"",unapprovedQuotesCount:0,deleteAccountModal:!1,deleteQuoteModal:!1,editQuoteModal:!1,quoteTitleValid:!1,quoteBodyValid:!1,quoteAuthorValid:!1,formValid:!1,formErrors:{quoteTitle:"",quoteBody:"",quoteAuthor:""},editQuote:{quoteTitle:"",quoteAuthor:"",quoteBody:""},deletingQuote:{quoteTitle:""}},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("beepboop"),a="";a="https://typingtest.jdoyle.ie",this.setState({APIURL:"https://typingtest.jdoyle.ie"}),_.a.get(a+"/user/profile",{headers:{"auth-token":t}}).then((function(t){t.data.isAdmin&&localStorage.setItem("nimdAis",t.data.isAdmin),t.data&&(console.log(t.data),e.setState({id:t.data._id,username:t.data.userName,email:t.data.userEmail,signUpDate:t.data.signUpDate.slice(0,15),personalBestWPM:t.data.personalBestWPM,personalBestAcc:t.data.personalBestAcc,quoteIds:t.data.quotesAdded}),e.getQuotes())})),_.a.get(a+"/quotes/unapproved",{headers:{"auth-token":t}}).then((function(t){t.data.length>0?e.setState({unapprovedQuotesCount:t.data.length}):e.setState({unapprovedQuotesCount:null})})).catch((function(e){console.log(e)}))}},{key:"getQuotes",value:function(){var e=this;this.state.quoteIds.length>0&&this.state.quoteIds.forEach((function(t){_.a.get(e.state.APIURL+"/quotes/"+t).then((function(t){t.data&&e.setState({quotes:[].concat(Object(V.a)(e.state.quotes),[t.data])})}))}))}},{key:"quotesComponentsList",value:function(){var e=this.editQuote,t=this.deleteQuote;return this.state.quotes.length>0?this.state.quotes.map((function(a,n){return o.a.createElement(W,{quote:a,key:n,index:n,edit:function(){return e(a)},delete:function(){return t(a)}})})):o.a.createElement(i.b,{to:"/createQuote"},o.a.createElement(f.a,null," Add Some Quotes!"))}},{key:"editQuote",value:function(e){var t=this;this.setState({editQuote:e},(function(){return t.handleEditQuoteClose()}))}},{key:"deleteQuote",value:function(e){var t=this;this.setState({deletingQuote:e},(function(){return t.handleDeleteQuoteClose()}))}},{key:"deleteThisQuote",value:function(){var e=this,t=this.state.deletingQuote,a=localStorage.getItem("beepboop");_.a.post(this.state.APIURL+"/quotes/delete",t,{headers:{"auth-token":a}}).then((function(t){console.log(t.data),e.setState({editQuoteModal:!1}),window.location.reload()})).catch((function(e){return e}))}},{key:"onChangeQuoteTitle",value:function(e){var t=this,a=e.target.name;this.setState({editQuote:Object(c.a)(Object(c.a)({},this.state.editQuote),{},{quoteTitle:e.target.value})},(function(){t.validateField(a,t.state.editQuote.quoteTitle)}))}},{key:"onChangeQuoteAuthor",value:function(e){var t=this,a=e.target.name;this.setState({editQuote:Object(c.a)(Object(c.a)({},this.state.editQuote),{},{quoteAuthor:e.target.value})},(function(){t.validateField(a,t.state.editQuote.quoteAuthor)}))}},{key:"onChangeQuoteBody",value:function(e){var t=this,a=e.target.name;this.setState({editQuote:Object(c.a)(Object(c.a)({},this.state.editQuote),{},{quoteBody:e.target.value})},(function(){t.validateField(a,t.state.editQuote.quoteBody)}))}},{key:"saveQuote",value:function(){var e=this,t=localStorage.getItem("beepboop");console.log(t);var a=this.state.editQuote;console.log(a),console.log(this.state.APIURL),_.a.post(this.state.APIURL+"/quotes/update",a,{headers:{"auth-token":t}}).then((function(t){console.log(t.data),e.setState({editQuoteModal:!1}),window.location.reload()})).catch((function(e){return e}))}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,n=this.state.quoteTitleValid,o=this.state.quoteBodyValid,r=this.state.quoteAuthorValid;switch(console.log(t),e){case"quoteTitle":n=t.length>=0&&t.length<40,a.quoteTitle=n?"":" must not be empty or greater than 20 characters.";break;case"quoteBody":o=t.length>=200&&t.length<=350,a.quoteBody=o?"":" is too short";break;case"quoteAuthor":if(0===t.length){r=!0,this.setState((function(e){return{quoteAuthor:e.username}}),(function(){a.quoteAuthor=""}));break}if(t.length<=10){r=!0,a.quoteAuthor=r?"":" is short long";break}}this.setState({formErrors:a,quoteTitleValid:n,quoteBodyValid:o,quoteAuthorValid:r},this.validateForm)}},{key:"validateForm",value:function(){console.log(this.state.quoteTitleValid,this.state.quoteBodyValid,this.state.quoteAuthorValid),this.setState({formValid:this.state.quoteTitleValid&&this.state.quoteBodyValid&&this.state.quoteAuthorValid})}},{key:"handleDeleteAccountClose",value:function(){this.setState({deleteAccountModal:!this.state.deleteAccountModal})}},{key:"handleEditQuoteClose",value:function(){this.setState({editQuoteModal:!this.state.editQuoteModal})}},{key:"handleDeleteQuoteClose",value:function(){this.setState({deleteQuoteModal:!this.state.deleteQuoteModal})}},{key:"logout",value:function(){localStorage.removeItem("beepboop"),localStorage.removeItem("nimdAis"),this.props.history.push({pathname:"/login"})}},{key:"deleteAccount",value:function(){var e=localStorage.getItem("beepboop");localStorage.removeItem("beepboop");var t={userName:this.state.username,userEmail:this.state.email};_.a.post(this.state.APIURL+"/user/delete",t,{headers:{"auth-token":e}}),this.props.history.push({pathname:"/login"})}},{key:"editAccount",value:function(){localStorage.getItem("beepboop"),this.state.username,this.state.email,this.state.id;this.props.history.push({pathname:"/editAccount",state:{id:this.state.id}})}},{key:"approveButton",value:function(){if(localStorage.getItem("nimdAis"))return o.a.createElement(i.b,{to:"/approveQuote"},o.a.createElement(f.a,{variant:"outline-success",style:{marginLeft:10}},"Approve Quotes",o.a.createElement(D.a,{variant:"danger",style:{marginLeft:5}},this.state.unapprovedQuotesCount)))}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(F.a,{show:this.state.deleteAccountModal,backdrop:"static",keyboard:!1,centered:!0},o.a.createElement(F.a.Header,null,o.a.createElement(F.a.Title,null,"Delete Account?")),o.a.createElement(F.a.Body,null,"Are you sure you want to delete your account? This is not reversable."),o.a.createElement(F.a.Footer,null,o.a.createElement(f.a,{variant:"secondary",onClick:this.handleDeleteAccountClose},"Nevermind"),o.a.createElement(f.a,{variant:"danger",onClick:this.deleteAccount},"Delete Account"))),o.a.createElement(F.a,{show:this.state.deleteQuoteModal,backdrop:"static",keyboard:!1,centered:!0},o.a.createElement(F.a.Header,null,o.a.createElement(F.a.Title,null,"Delete Quote?")),o.a.createElement(F.a.Body,null,"Are you sure you want to delete ",this.state.deletingQuote.quoteTitle,"? This is not reversable and will delete the quotes top score and WPM."),o.a.createElement(F.a.Footer,null,o.a.createElement(f.a,{variant:"secondary",onClick:this.handleDeleteQuoteClose},"Nevermind"),o.a.createElement(f.a,{variant:"danger",onClick:this.deleteThisQuote},"Delete Quote"))),o.a.createElement(F.a,{show:this.state.editQuoteModal,backdrop:"static",keyboard:!1,size:"xl",centered:!0},o.a.createElement(F.a.Header,null,o.a.createElement(F.a.Title,null,"Edit Quote")),o.a.createElement(F.a.Body,null,o.a.createElement("div",null,o.a.createElement(E.a,{variant:"secondary"},o.a.createElement(T.a,null,o.a.createElement(E.a.Heading,null,o.a.createElement(w.a,null,o.a.createElement(C.a,{m:"auto"},o.a.createElement(T.a.Control,{value:this.state.editQuote.quoteTitle,type:"text",size:"lg",onChange:this.onChangeQuoteTitle,name:"quoteTitle"})),o.a.createElement(C.a,{xs:"auto"}," -"),o.a.createElement(C.a,{xs:"auto"},o.a.createElement(T.a.Control,{value:this.state.editQuote.quoteAuthor,type:"text",style:{width:String(this.state.editQuote.quoteAuthor.length)},size:"lg",onChange:this.onChangeQuoteAuthor,name:"quoteAuthor"})))),o.a.createElement(T.a.Control,{value:this.state.editQuote.quoteBody,id:"quoteBody",name:"quoteBody",as:"textarea",rows:"4",onChange:this.onChangeQuoteBody}))))),o.a.createElement(F.a.Footer,null,o.a.createElement(f.a,{variant:"secondary",onClick:this.handleEditQuoteClose},"Nevermind"),o.a.createElement(f.a,{variant:"success",onClick:this.saveQuote,disabled:!this.state.formValid},"Save Quote"))),o.a.createElement(S,null,o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:9},o.a.createElement("h3",null,this.state.username,"'s Profile"),o.a.createElement("h5",null,"Email:  ",this.state.email),o.a.createElement("h5",null,"Date Joined:  ",this.state.signUpDate)),o.a.createElement(C.a,{sm:3},o.a.createElement("h4",null,"Personal Best:"),o.a.createElement(E.a,{variant:"info"},o.a.createElement("span",null,"WPM : ",this.state.personalBestWPM," ",o.a.createElement("br",null),"Accuracy : ",this.state.personalBestAcc,"% ",o.a.createElement("br",null))))),o.a.createElement(w.a,null,o.a.createElement(C.a,null,o.a.createElement("br",null),o.a.createElement(i.b,{to:"/editAccount"},o.a.createElement(f.a,{variant:"outline-info",onClick:this.editAccount,style:{marginRight:10},disabled:!1},"Edit Account")),o.a.createElement(f.a,{variant:"outline-warning",onClick:this.logout,style:{marginRight:10}},"Logout"),o.a.createElement(f.a,{variant:"outline-danger",onClick:this.handleDeleteQuoteClose},"Delete Account"),this.approveButton())),o.a.createElement("br",null),o.a.createElement(w.a,null,o.a.createElement(C.a,null,o.a.createElement("h4",null,"Your Quotes:"),o.a.createElement("div",null,this.quotesComponentsList())))),o.a.createElement("div",{style:{height:800}}))}}]),a}(n.Component),z=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).onChangeAccountUsername=n.onChangeAccountUsername.bind(Object(m.a)(n)),n.onChangeAccountEmail=n.onChangeAccountEmail.bind(Object(m.a)(n)),n.onChangeAccountPassword=n.onChangeAccountPassword.bind(Object(m.a)(n)),n.onChangeAccountConfirmPassword=n.onChangeAccountConfirmPassword.bind(Object(m.a)(n)),n.onChangeCurrentPassword=n.onChangeCurrentPassword.bind(Object(m.a)(n)),n.editAccount=n.editAccount.bind(Object(m.a)(n)),n.checkPassword=n.checkPassword.bind(Object(m.a)(n)),n.passwordsMatch=n.passwordsMatch.bind(Object(m.a)(n)),n.state={oldUser:{id:"",userName:"",email:"",password:""},newInput:{userName:"",email:"",password:"",confirmPassword:"",id:""},newUser:{userName:"",email:"",password:""},onChangeCurrentPassword:"",Modal:!0,token:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("beepboop"),a="";a="https://typingtest.jdoyle.ie",this.setState({APIURL:"https://typingtest.jdoyle.ie"}),_.a.get(a+"/user/profile",{headers:{"auth-token":t}}).then((function(a){a.data&&e.setState({oldUser:{id:a.data._id,userName:a.data.userName,email:a.data.userEmail},token:t})}))}},{key:"editAccount",value:function(){var e=this.state.newInput;console.log(e),""===this.state.newInput.password&&this.passwordsMatch&&(e.password=this.state.oldUser.password),""===this.state.newInput.userName&&(e.userName=this.state.oldUser.userName),""===this.state.newInput.email&&(e.email=this.state.oldUser.email),e.id=this.state.oldUser.id,console.log(e),_.a.post(this.state.APIURL+"/user/update",e,{headers:{"auth-token":this.state.token}}).then((function(e){console.log(e.data)})).catch((function(e){return e}))}},{key:"onChangeAccountUsername",value:function(e){e.target.name;this.setState({newInput:{userName:e.target.value,email:this.state.newInput.email,password:this.state.newInput.password,confirmPassword:this.state.newInput.confirmPassword}})}},{key:"onChangeAccountEmail",value:function(e){e.target.name;this.setState({newInput:{email:e.target.value,userName:this.state.newInput.userName,password:this.state.newInput.password,confirmPassword:this.state.newInput.confirmPassword}})}},{key:"onChangeAccountPassword",value:function(e){e.target.name;this.setState({newInput:{password:e.target.value,confirmPassword:this.state.newInput.confirmPassword,userName:this.state.newInput.userName,email:this.state.newInput.email}})}},{key:"onChangeAccountConfirmPassword",value:function(e){e.target.name;this.setState({newInput:{confirmPassword:e.target.value,userName:this.state.newInput.userName,email:this.state.newInput.email,passowrd:this.state.newInput.password}})}},{key:"onChangeCurrentPassword",value:function(e){e.target.name;this.setState({onChangeCurrentPassword:e.target.value})}},{key:"checkPassword",value:function(){var e=this,t={userName:this.state.oldUser.userName,userPassword:this.state.onChangeCurrentPassword};this.setState((function(e){return{oldUser:Object(c.a)(Object(c.a)({},e.oldUser),{},{password:t.userPassword})}})),_.a.post(this.state.APIURL+"/user/login",t,{withCredentials:!0}).then((function(t){t.data&&e.setState({Modal:!1})})).catch((function(e){return e}))}},{key:"passwordsMatch",value:function(){return this.state.newPassword===this.state.newConfirmPassowrd}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(F.a,{show:this.state.Modal,backdrop:"static",keyboard:!1,centered:!0},o.a.createElement(F.a.Header,null,o.a.createElement(F.a.Title,null,"Enter your current Password")),o.a.createElement(F.a.Body,null,"Enter your current password to edit your Account.",o.a.createElement(T.a,null,o.a.createElement(T.a.Control,{value:this.state.onChangeCurrentPassword,type:"password",id:"inputUserName",onChange:this.onChangeCurrentPassword,name:"Username"}))),o.a.createElement(F.a.Footer,null,o.a.createElement(i.b,{to:"/profile"},o.a.createElement(f.a,{variant:"secondary",onClick:this.handleClose},"Nevermind")),o.a.createElement(f.a,{variant:"danger",onClick:this.checkPassword},"Edit Account"))),o.a.createElement(S,null,o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:5},o.a.createElement(T.a,null,o.a.createElement(T.a.Group,null,o.a.createElement("h4",null,"Edit Account"),o.a.createElement(T.a.Label,null,"User Name:"),o.a.createElement(T.a.Control,{value:this.state.newInput.userName,id:"inputUserName",onChange:this.onChangeAccountUsername,name:"Username",placeholder:this.state.oldUser.userName}),o.a.createElement("br",null),o.a.createElement(T.a.Label,null,"Email: "),o.a.createElement(T.a.Control,{value:this.state.newInput.email,id:"inputUserEmail",onChange:this.onChangeAccountEmail,name:"Email",placeholder:this.state.oldUser.email}),o.a.createElement("br",null),o.a.createElement(T.a.Label,null,"Password: "),o.a.createElement(T.a.Control,{type:"password",value:this.state.newInput.password,id:"inputPassword",onChange:this.onChangeAccountPassword,name:"Password"}),o.a.createElement(T.a.Label,null,"Confirm Password: "),o.a.createElement(T.a.Control,{type:"password",value:this.state.newInput.confirmPassword,id:"inputConfirmPassword",onChange:this.onChangeAccountConfirmPassword,name:"ConfirmPassword"})),o.a.createElement(i.b,{to:"/profile"},o.a.createElement(f.a,{variant:"secondary",style:{marginRight:10}},"Cancel")),o.a.createElement(f.a,{variant:"info",onClick:this.editAccount},"Save"))))),o.a.createElement("div",{style:{height:800}}))}}]),a}(n.Component);function R(){var e=Object(v.a)(["\n    background: white;\n    border-radius: 5px;\n    border: 1px solid darkgray;\n    height : 35px;\n    margin-left : 80px;\n    width : 230px;\n    float: right;\n    :: disabled\n"]);return R=function(){return e},e}var G=k.b.input.attrs((function(e){return{type:"text",placeholder:" Search: Title, Author, User"}}))(R()),J=function(e){return o.a.createElement("div",null,o.a.createElement(E.a,{variant:"secondary"},o.a.createElement(i.b,{to:{pathname:"/",state:{id:e.quote._id}},style:{color:"#202326"}},o.a.createElement(E.a.Heading,null,e.quote.quoteTitle," -",e.quote.quoteAuthor)),o.a.createElement("span",null,e.quote.quoteBody),o.a.createElement("hr",null),o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:8},o.a.createElement("span",null,"Added by: ",o.a.createElement(E.a.Link,null,e.quote.quoteUser)),o.a.createElement("span",{style:{marginLeft:10}},"Approved : ",String(e.quote.quoteApproved)),o.a.createElement("span",{style:{marginLeft:10}},"Rating : ",e.quote.quoteScore),o.a.createElement("span",{style:{marginLeft:10}},"High Score : ",e.quote.highWPMScore,"WPM ",e.quote.highAccScore,"% Accuracy")),o.a.createElement(C.a,{sm:4},o.a.createElement("div",{style:{float:"right"}},o.a.createElement(f.a,{variant:"success",style:{marginRight:5},onClick:e.approve},"Approve"),o.a.createElement(f.a,{variant:"danger",onClick:e.del},"Delete"))))),o.a.createElement("br",null))},Y=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).search=n.search.bind(Object(m.a)(n)),n.quotesList=n.quotesList.bind(Object(m.a)(n)),n.approveQuote=n.approveQuote.bind(Object(m.a)(n)),n.deleteQuote=n.deleteQuote.bind(Object(m.a)(n)),n.noQuotes=n.noQuotes.bind(Object(m.a)(n)),n.state={quotes:[],search:"",token:"",APIURL:""},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("beepboop"),a="";a="https://typingtest.jdoyle.ie",this.setState({APIURL:"https://typingtest.jdoyle.ie"}),_.a.get(a+"/quotes/unapproved",{headers:{"auth-token":t}}).then((function(t){e.setState({quotes:t.data,token:localStorage.getItem("beepboop")})})).catch((function(e){console.log(e)}))}},{key:"quotesList",value:function(e){var t=this.approveQuote,a=this.deleteQuote;return e.map((function(e,n){return o.a.createElement(J,{quote:e,key:n,index:n,approve:function(){return t(e)},del:function(){return a(e)}})}))}},{key:"search",value:function(){this.setState({search:document.getElementById("searchBar").value})}},{key:"approveQuote",value:function(e){var t=this;console.log(e),_.a.post(this.state.APIURL+"/quotes/approve",e,{headers:{"auth-token":this.state.token}}).then((function(e){console.log(e.data),t.setState({quotes:[]})})),console.log(e.quoteApproved)}},{key:"deleteQuote",value:function(){console.log("Delete")}},{key:"noQuotes",value:function(){if(0===this.state.quotes.length)return o.a.createElement("span",null,"No quotes to approve!")}},{key:"render",value:function(){var e=this,t=this.state.quotes.filter((function(t){return-1!==t.quoteTitle.toLowerCase().indexOf(e.state.search)||-1!==t.quoteAuthor.toLowerCase().indexOf(e.state.search)||-1!==t.quoteUser.indexOf(e.state.search)}));return o.a.createElement("div",{className:"container"},o.a.createElement(S,null,o.a.createElement(w.a,null,o.a.createElement(C.a,{sm:8},o.a.createElement("h4",null," Approve Quotes")),o.a.createElement(C.a,{sm:4},o.a.createElement(G,{id:"searchBar",onChange:this.search}))),o.a.createElement("br",null),o.a.createElement(w.a,null,o.a.createElement(C.a,null,o.a.createElement(i.b,{to:"/profile"},o.a.createElement(f.a,{variant:"info"},"Back to Profile")))),o.a.createElement("br",null),o.a.createElement(w.a,null,o.a.createElement(C.a,null,this.quotesList(t),this.noQuotes()))),o.a.createElement("div",{style:{height:800}}))}}]),a}(n.Component),$=a(88),K=function(e){var t=e.component,a=Object($.a)(e,["component"]);return o.a.createElement(u.b,Object.assign({},a,{render:function(e){return localStorage.getItem("nimdAis")?o.a.createElement(t,e):o.a.createElement(u.a,{to:"/profile"})}}))},X=(a(120),a(65)),Z=a(70),ee=a(55),te={colors:{background:"white",cardBackground:"#white",buttonBackground:"#5E81AC",textColor:"black",buttonColor:"ECEFF4"}},ae={colors:{background:"#343A40",cardBackground:"#3B4252",buttonBackground:"#d08770",textColor:"#ECEFF4",buttonColor:"#2E3440"}};function ne(){var e=Object(v.a)(["\n    background: ",";\n    color: ",";\n    align-items: center;\n    justify-content: center;\n    padding: 0px;\n\n"]);return ne=function(){return e},e}var oe=k.b.div(ne(),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.textColor}));function re(){var e=Object(v.a)(['\n width : 30px;\n height : 30px;\n alt="Typing Test;\n']);return re=function(){return e},e}var se=k.b.svg(re()),le=function(e){e.className;return o.a.createElement(se,{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-keyboard-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M0 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm13 .25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zM2.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 3 8.75v-.5A.25.25 0 0 0 2.75 8h-.5zM4 8.25A.25.25 0 0 1 4.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 4 8.75v-.5zM6.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 7 8.75v-.5A.25.25 0 0 0 6.75 8h-.5zM8 8.25A.25.25 0 0 1 8.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 8 8.75v-.5zM13.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zm0 2a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zm-3-2a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h1.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-1.5zm.75 2.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zM11.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zM9 6.25A.25.25 0 0 1 9.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 9 6.75v-.5zM7.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 8 6.75v-.5A.25.25 0 0 0 7.75 6h-.5zM5 6.25A.25.25 0 0 1 5.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 5 6.75v-.5zM2.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 4 6.75v-.5A.25.25 0 0 0 3.75 6h-1.5zM2 10.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zM4.25 10a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h5.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-5.5z"}))},ie=function(){var e=localStorage.getItem("isDarkMode"),t=Object(n.useState)("true"===e),a=Object(l.a)(t,2),r=a[0],s=a[1];return o.a.createElement(k.a,{theme:r?ae:te},o.a.createElement(oe,null,o.a.createElement(i.a,null,o.a.createElement("div",{className:"container"},o.a.createElement(X.a,{collapseOnSelect:!0,expand:"lg",bg:r?"dark":"light",variant:r?"dark":"light",sticky:"top"},o.a.createElement(ee.a,null,o.a.createElement(le,null)),o.a.createElement(ee.a,null,"Typing Test"),o.a.createElement(X.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),o.a.createElement(X.a.Collapse,{id:"responsive-navbar-nav"},o.a.createElement(Z.a,{className:"mr-auto"},o.a.createElement(i.b,{to:"/",className:"nav-link",id:"navBarText"},"Test"),o.a.createElement(i.b,{to:"/quotes",className:"nav-link"},"Quotes"),o.a.createElement(i.b,{to:"/createQuote",className:"nav-link"},"Create Quote"),o.a.createElement(i.b,{to:"/account",className:"nav-link"},"Account")),o.a.createElement(Z.a,null,o.a.createElement(f.a,{variant:"outline-secondary",onClick:function(){s(!r),localStorage.setItem("isDarkMode",!r)}},o.a.createElement("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-circle-half",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",d:"M8 15V1a7 7 0 1 1 0 14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"}))))))),o.a.createElement(u.b,{path:"/",exact:!0,component:P}),o.a.createElement(u.b,{path:"/createQuote",component:B}),o.a.createElement(u.b,{path:"/quotes",component:L}),o.a.createElement(u.b,{path:"/login",component:x}),o.a.createElement(u.b,{path:"/account",exact:!0,component:N}),o.a.createElement(u.b,{path:"/profile",component:H}),o.a.createElement(u.b,{path:"/editAccount",component:z}),o.a.createElement(K,{path:"/approveQuote",component:Y,exact:!0}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t,a){e.exports=a(121)},94:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.77efe88a.chunk.js.map