(this["webpackJsonptyping-test-app"]=this["webpackJsonptyping-test-app"]||[]).push([[0],{117:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var s,n,o,r,i,c,u,l=a(0),d=a.n(l),h=a(37),j=a.n(h),b=(a(117),a(109)),p=(a(118),a(20)),g=a(24),O=a(21),m=a(4),v=a(7),x=a(8),f=a(5),y=a(6),q=a(29),w=a(19),k=a(41),A=a(16),C=a(56),_=a(50),S=a(18),Q=a(14),P=a(27),V=a(17),T=a.n(V),B=P.b.div(s||(s=Object(q.a)(["\n  background: ",";\n  padding: 24px;\n  border-radius: 5px;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100px;\n"])),(function(e){return e.theme.colors.cardBackground})),M=a(106),I=a(1),L=P.b.input.attrs((function(e){return{type:"text"}}))(n||(n=Object(q.a)(["\n    background: white;\n    border-radius: 5px;\n    border: 1px solid darkgray;\n\n    :: disabled\n"]))),E=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).onInputChange=s.onInputChange.bind(Object(x.a)(s)),s.compare=s.compare.bind(Object(x.a)(s)),s.resetTest=s.resetTest.bind(Object(x.a)(s)),s.endTest=s.endTest.bind(Object(x.a)(s)),s.startTimer=s.startTimer.bind(Object(x.a)(s)),s.calculateWPM=s.calculateWPM.bind(Object(x.a)(s)),s.calculateHighScore=s.calculateHighScore.bind(Object(x.a)(s)),s.backspace=s.backspace.bind(Object(x.a)(s)),s.escFunction=s.escFunction.bind(Object(x.a)(s)),s.debugToggle=s.debugToggle.bind(Object(x.a)(s)),s.renderTooltip=s.renderTooltip.bind(Object(x.a)(s)),s.newTest=s.newTest.bind(Object(x.a)(s)),s.sendHighscores=s.sendHighscores.bind(Object(x.a)(s)),s.renderSpinner=s.renderSpinner.bind(Object(x.a)(s)),s.increaseLike=s.increaseLike.bind(Object(x.a)(s)),s.decreaseLike=s.decreaseLike.bind(Object(x.a)(s)),s.updateQuoteScore=s.updateQuoteScore.bind(Object(x.a)(s)),s.state={quote:[],quote_Title:"",quote_body:"",quote_author:"",user_input:"",quote_words:[],char_array:[],current_quote_char:"",typed_chars:"",current_quote_word:"",count:0,error_count:0,total_error_count:0,input_disabled:!1,HSenabled:!1,QHSenabled:!1,quote_left:"",quote_right:"",quote_error:"",quote_start:"",err_arr:"",quote_class:"quote-current",tInterval:"",seconds:0,netWPM:0,resultsVariant:"success",endMsg:"Well done!",accuracy:0,highestAcc:0,highestWPM:0,quote_score:0,quoteWPM:0,quoteAcc:0,quoteID:0,upVote:!1,downVote:!1,apiUrl:"",token:"",user:{},debug:!1},s}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="";t=null!=this.props.location.state?this.props.location.state.id:"random";var a="";if(this.setState((function(e){return{apiUrl:"https://typingtest.jdoyle.ie"}})),a="https://typingtest.jdoyle.ie",T.a.get(a+"/quotes/"+t).then((function(t){e.setState((function(e){return{quote_Title:t.data.quoteTitle,quote_body:t.data.quoteBody,char_array:Array.from(t.data.quoteBody),current_quote_char:Array.from(t.data.quoteBody)[0],quote_start:t.data.quoteBody,quote_author:t.data.quoteAuthor,quote_score:t.data.quoteScore,quoteWPM:t.data.highWPMScore,quoteAcc:t.data.highAccScore,quoteID:t.data._id}}))})).catch((function(e){console.log(e)})),localStorage.getItem("beepboop")){var s=localStorage.getItem("beepboop");this.setState({token:s}),T.a.get(a+"/user/profile",{headers:{"auth-token":s}}).then((function(t){e.setState({user:t.data})}))}document.addEventListener("keydown",this.escFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1)}},{key:"startTimer",value:function(){var e=this.state.seconds+1;this.setState((function(t){return{seconds:e}}))}},{key:"escFunction",value:function(e){27===e.keyCode&&this.resetTest()}},{key:"debugToggle",value:function(){this.setState((function(e){return{debug:!e.debug}}))}},{key:"onInputChange",value:function(e){var t=this;if(this.state.count!==this.state.char_array.length)if(8!==e.keyCode&&0===e.location){if(0===this.state.count){var a=setInterval(this.startTimer,1e3);this.setState((function(e){return{quote_start:"",seconds:0,tInterval:a}}))}this.setState({user_input:e.key},(function(){return t.compare(t.state.current_quote_char)}))}else 8===e.keyCode&&""!==this.state.err_arr&&this.state.error_count>0&&(this.state.error_count>0?this.setState((function(e){return{error_count:e.error_count-1}}),(function(){return t.backspace()})):this.backspace());else this.endTest()}},{key:"backspace",value:function(){this.setState((function(e){return{err_arr:e.err_arr.slice(0,e.err_arr.length-1),count:e.count-1,current_quote_char:e.char_array[e.count-1],quote_left:e.typed_chars.slice(0,e.typed_chars.length-e.err_arr.length),typed_chars:e.typed_chars.slice(0,-1),quote_right:e.char_array.slice(e.count,e.char_array.length)}}))}},{key:"compare",value:function(e){var t=this;e===this.state.user_input?(this.state.count>=this.state.char_array.length-1?this.setState((function(e){return{typed_chars:e.typed_chars+e.user_input}}),(function(){return t.endTest()})):this.setState((function(e){return{current_quote_char:e.char_array[e.count+1],count:e.count+1,typed_chars:e.typed_chars+e.user_input,quote_right:e.char_array.slice(e.count+2,e.char_array.length),user_input:"",quote_left:e.typed_chars+e.user_input,err_arr:"",quote_class:"quote-current"}})),document.getElementById("input").value=""):this.setState((function(e){return{err_arr:e.err_arr+e.char_array[e.count],current_quote_char:e.char_array[e.count+1],count:e.count+1,quote_class:"quote-warning",typed_chars:e.typed_chars+e.char_array[e.count],quote_error:e.err_arr,quote_right:e.char_array.slice(e.count+2,e.char_array.length),error_count:e.error_count+1,total_error_count:e.total_error_count+1}}))}},{key:"newTest",value:function(){var e=this;this.setState({quote_Title:"",quote_author:"",quote_body:"",char_array:[]}),T.a.get(this.state.apiUrl+"/quotes/random").then((function(t){e.setState((function(e){return{quote_Title:t.data.quoteTitle,quote_body:t.data.quoteBody,char_array:Array.from(t.data.quoteBody),current_quote_char:Array.from(t.data.quoteBody)[0],quote_start:t.data.quoteBody,quote_author:t.data.quoteAuthor,quoteWPM:t.data.highWPMScore,quoteAcc:t.data.highAccScore,quoteID:t.data._id}}))})).catch((function(e){console.log(e)})),this.resetTest()}},{key:"resetTest",value:function(){var e,t,a=this.state.quote_body;e=a.split(" "),t=Array.from(a),clearInterval(this.state.tInterval),document.getElementById("input").value="",document.getElementById("input").focus(),this.setState((function(a){return{quote_Title:a.quote_Title,quote_body:a.quote_body,quote_words:e,current_quote_word:e[0],char_array:t,quote_start:a.quote_body,current_quote_char:a.char_array[0],err_arr:"",user_input:"",quote_left:"",quote_right:"",typed_chars:"",error_count:0,quote_class:"quote_current",quote_error:"",total_error_count:0,count:0,seconds:0,input_disabled:!1,HSenabled:!1,QHSenabled:!1,upVote:!1,downVote:!1,quote_score:0}}))}},{key:"endTest",value:function(){var e=this;clearInterval(this.state.tInterval);var t=this.state.char_array.length-this.state.total_error_count,a=this.state.netWPM,s=this.state.accuracy,n=Math.ceil(this.calculateWPM()),o=this.state.endMsg,r=this.state.resultsVariant;n>41?(r="success",o="Well Done!"):n<=41&&n>=25?(r="warning",o="Not Bad!"):n<25&&(r="danger",o="Yikes! You can do better"),document.activeElement.blur(),document.getElementById("input").focus(),this.setState((function(e){return{error_count:e.error_count,accuracy:Math.ceil(t/e.char_array.length*100),input_disabled:!0,resultsVariant:r,endMsg:o,current_quote_char:"",quote_left:e.quote_body,seconds:0,err_arr:"",netWPM:n}}),(function(){return e.calculateHighScore(s,a)}))}},{key:"calculateHighScore",value:function(e,t){var a=this,s=this.state.accuracy,n=this.state.netWPM,o=0,r=0;if(n>t&&(this.setState({highestAcc:s,highestWPM:n}),o=n,r=s,""!==this.state.token&&(o>this.state.user.personalBestWPM&&(console.log("you were better"),this.setState((function(e){return{HSenabled:!0,user:Object(O.a)(Object(O.a)({},a.state.user),{},{personalBestAcc:r,personalBestWPM:o})}}),(function(){return a.sendHighscores(a.state.user)}))),n>=this.state.quoteWPM&&this.setState({QHSenabled:!0,quoteWPM:o,quoteAcc:r},(function(){return a.sendQuoteScores()})))),""!==this.state.token){var i={_id:this.state.user._id,wpm:n,acc:s};console.log(i),T.a.post(this.state.apiUrl+"/user/updateScores",i,{headers:{"auth-token":this.state.token}}).then((function(e){console.log(e.data.latestWPMScores)})).catch((function(e){return e}))}}},{key:"sendHighscores",value:function(e){console.log(e),T.a.post(this.state.apiUrl+"/user/updateHS",e,{headers:{"auth-token":this.state.token}}).then((function(e){return console.log(e.data)})).catch((function(e){return e}))}},{key:"sendQuoteScores",value:function(){var e={quoteWPM:this.state.quoteWPM,quoteAcc:this.state.quoteAcc,_id:this.state.quoteID};T.a.post(this.state.apiUrl+"/quotes/updateHS",e,{headers:{"auth-token":this.state.token}}).catch((function(e){return e}))}},{key:"calculateWPM",value:function(){var e=this.state.seconds/60,t=this.state.error_count;return this.state.typed_chars.length/5/e-t/e}},{key:"renderTooltip",value:function(e){if(null!=e.popper.state){if("restartBtn"===e.popper.state.elements.reference.id)return Object(I.jsx)(_.a,Object(O.a)(Object(O.a)({id:"button-tooltip"},e),{},{children:"Restart Test"}));if("newTestBtn"===e.popper.state.elements.reference.id)return Object(I.jsx)(_.a,Object(O.a)(Object(O.a)({id:"button-tooltip"},e),{},{children:"Start New Test"}));if("debugBtn"===e.popper.state.elements.reference.id)return Object(I.jsx)(_.a,{children:"Show debug Info"});if("dislikeOverlay"===e.popper.state.elements.reference.id)return Object(I.jsx)(_.a,Object(O.a)(Object(O.a)({id:"button-tooltip"},e),{},{children:"Like Quote"}));if("likeOverlay"===e.popper.state.elements.reference.id)return Object(I.jsx)(_.a,Object(O.a)(Object(O.a)({id:"buton-tooltip"},e),{},{children:"Dislike Quote"}))}return Object(I.jsx)(_.a,Object(O.a)(Object(O.a)({},e),{},{children:"test"}))}},{key:"renderSpinner",value:function(){return this.state.quote_Title?Object(I.jsx)(I.Fragment,{}):Object(I.jsx)(M.a,{animation:"border"})}},{key:"increaseLike",value:function(){var e=this;if(this.state.upVote||this.state.downVote){if(!this.state.upVote&&this.state.downVote){var t=this.state.quote_score+2;this.setState({quote_score:t,upVote:!0,downVote:!1},(function(){return e.updateQuoteScore()}))}else if(this.state.upVote){var a=this.state.quote_score-1;this.setState({quote_score:a,upVote:!1},(function(){return e.updateQuoteScore()}))}}else{var s=this.state.quote_score+1;this.setState({quote_score:s,upVote:!0,downVote:!1},(function(){return e.updateQuoteScore()}))}}},{key:"decreaseLike",value:function(){var e=this;if(this.state.downVote||this.state.upVote){if(!this.state.downVote&&this.state.upVote){var t=this.state.quote_score-2;this.setState({quote_score:t,downVote:!0,upVote:!1},(function(){return e.updateQuoteScore()}))}else if(this.state.downVote){var a=this.state.quote_score+1;this.setState({quote_score:a,downVote:!1},(function(){return e.updateQuoteScore()}))}}else{var s=this.state.quote_score-1;this.setState({quote_score:s,downVote:!0,upVote:!1},(function(){return e.updateQuoteScore()}))}}},{key:"updateQuoteScore",value:function(){var e={_id:this.state.quoteID,quote_score:this.state.quote_score};T.a.post(this.state.apiUrl+"/quotes/updateRating",e).catch((function(e){return e}))}},{key:"render",value:function(){return Object(I.jsx)("div",{className:"container",style:{height:window.innerHeight},children:Object(I.jsxs)(B,{children:[Object(I.jsxs)(S.a,{children:[Object(I.jsxs)(Q.a,{sm:8,children:[Object(I.jsxs)("h4",{children:[this.state.quote_Title," - ",this.state.quote_author]}),Object(I.jsxs)(w.a,{variant:"secondary",children:[Object(I.jsx)("span",{children:this.renderSpinner()}),Object(I.jsx)("span",{className:"quote-left",children:this.state.quote_left}),Object(I.jsx)("span",{className:"quote-error",children:this.state.err_arr}),Object(I.jsx)("span",{className:this.state.quote_class,children:this.state.current_quote_char}),Object(I.jsx)("span",{className:"quote-start",children:this.state.quote_start.slice(1)}),Object(I.jsx)("span",{className:"quote-right",children:this.state.quote_right}),Object(I.jsx)("hr",{}),Object(I.jsxs)("span",{children:["Best Score: ",this.state.quoteWPM,"WPM ",this.state.quoteAcc,"% Accuracy"]}),Object(I.jsx)(C.a,{placement:"top",delay:{show:250,hide:400},overlay:this.renderTooltip,children:Object(I.jsx)("span",{style:{float:"right"},onClick:this.decreaseLike,id:"likeOverlay",children:Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-hand-thumbs-down",viewBox:"0 0 16 16",children:Object(I.jsx)("path",{d:"M8.864 15.674c-.956.24-1.843-.484-1.908-1.42-.072-1.05-.23-2.015-.428-2.59-.125-.36-.479-1.012-1.04-1.638-.557-.624-1.282-1.179-2.131-1.41C2.685 8.432 2 7.85 2 7V3c0-.845.682-1.464 1.448-1.546 1.07-.113 1.564-.415 2.068-.723l.048-.029c.272-.166.578-.349.97-.484C6.931.08 7.395 0 8 0h3.5c.937 0 1.599.478 1.934 1.064.164.287.254.607.254.913 0 .152-.023.312-.077.464.201.262.38.577.488.9.11.33.172.762.004 1.15.069.13.12.268.159.403.077.27.113.567.113.856 0 .289-.036.586-.113.856-.035.12-.08.244-.138.363.394.571.418 1.2.234 1.733-.206.592-.682 1.1-1.2 1.272-.847.283-1.803.276-2.516.211a9.877 9.877 0 0 1-.443-.05 9.364 9.364 0 0 1-.062 4.51c-.138.508-.55.848-1.012.964l-.261.065zM11.5 1H8c-.51 0-.863.068-1.14.163-.281.097-.506.229-.776.393l-.04.025c-.555.338-1.198.73-2.49.868-.333.035-.554.29-.554.55V7c0 .255.226.543.62.65 1.095.3 1.977.997 2.614 1.709.635.71 1.064 1.475 1.238 1.977.243.7.407 1.768.482 2.85.025.362.36.595.667.518l.262-.065c.16-.04.258-.144.288-.255a8.34 8.34 0 0 0-.145-4.726.5.5 0 0 1 .595-.643h.003l.014.004.058.013a8.912 8.912 0 0 0 1.036.157c.663.06 1.457.054 2.11-.163.175-.059.45-.301.57-.651.107-.308.087-.67-.266-1.021L12.793 7l.353-.354c.043-.042.105-.14.154-.315.048-.167.075-.37.075-.581 0-.211-.027-.414-.075-.581-.05-.174-.111-.273-.154-.315l-.353-.354.353-.354c.047-.047.109-.176.005-.488a2.224 2.224 0 0 0-.505-.804l-.353-.354.353-.354c.006-.005.041-.05.041-.17a.866.866 0 0 0-.121-.415C12.4 1.272 12.063 1 11.5 1z"})})})}),Object(I.jsxs)("span",{style:{float:"right",marginLeft:5,marginRight:5},children:[" ",this.state.quote_score," "]}),Object(I.jsx)(C.a,{placement:"top",delay:{show:250,hide:400},overlay:this.renderTooltip,children:Object(I.jsx)("span",{style:{float:"right"},onClick:this.increaseLike,id:"dislikeOverlay",children:Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-hand-thumbs-up",viewBox:"0 0 16 16",children:Object(I.jsx)("path",{d:"M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"})})})})]})]}),Object(I.jsxs)(Q.a,{sm:4,children:[Object(I.jsx)("h4",{children:"High Scores"}),Object(I.jsx)(w.a,{variant:"info",children:Object(I.jsxs)("span",{children:["WPM : ",this.state.highestWPM," ",Object(I.jsx)("br",{}),"Accuracy : ",this.state.highestAcc,"% ",Object(I.jsx)("br",{})]})})]})]}),Object(I.jsx)(S.a,{children:Object(I.jsx)(Q.a,{children:Object(I.jsxs)("h5",{children:["Current Character: ",this.state.current_quote_char]})})}),Object(I.jsxs)(S.a,{children:[Object(I.jsxs)(Q.a,{sm:8,children:[Object(I.jsx)(L,{onKeyDown:this.onInputChange,id:"input",disabled:this.state.input_disabled}),Object(I.jsx)(C.a,{placement:"top",delay:{show:250,hide:400},overlay:this.renderTooltip,name:"restartOverlay",children:Object(I.jsx)(A.a,{onClick:this.resetTest,style:{marginLeft:10},variant:"secondary",id:"restartBtn",children:Object(I.jsxs)("svg",{className:"bi bi-arrow-repeat",width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(I.jsx)("path",{fillRule:"evenodd",d:"M2.854 7.146a.5.5 0 00-.708 0l-2 2a.5.5 0 10.708.708L2.5 8.207l1.646 1.647a.5.5 0 00.708-.708l-2-2zm13-1a.5.5 0 00-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 00-.708.708l2 2a.5.5 0 00.708 0l2-2a.5.5 0 000-.708z",clipRule:"evenodd"}),Object(I.jsx)("path",{fillRule:"evenodd",d:"M8 3a4.995 4.995 0 00-4.192 2.273.5.5 0 01-.837-.546A6 6 0 0114 8a.5.5 0 01-1.001 0 5 5 0 00-5-5zM2.5 7.5A.5.5 0 013 8a5 5 0 009.192 2.727.5.5 0 11.837.546A6 6 0 012 8a.5.5 0 01.501-.5z",clipRule:"evenodd"})]})})}),Object(I.jsx)(C.a,{placement:"top",delay:{show:250,hide:400},overlay:this.renderTooltip,children:Object(I.jsx)(A.a,{onClick:this.newTest,variant:"info",style:{marginLeft:10},id:"newTestBtn",name:"newTestBtn",children:Object(I.jsxs)("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-plus",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(I.jsx)("path",{fillRule:"evenodd",d:"M8 3.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H4a.5.5 0 0 1 0-1h3.5V4a.5.5 0 0 1 .5-.5z"}),Object(I.jsx)("path",{fillRule:"evenodd",d:"M7.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H8.5V12a.5.5 0 0 1-1 0V8z"})]})})})]}),Object(I.jsx)(Q.a,{sm:4,children:Object(I.jsx)(C.a,{placement:"left",delay:{show:250,hide:400},overlay:this.renderTooltip,children:Object(I.jsx)(A.a,{onClick:this.debugToggle,variant:"outline-warning",style:{float:"right"},id:"debugBtn",name:"debugBtn",children:Object(I.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-bug",viewBox:"0 0 16 16",children:Object(I.jsx)("path",{d:"M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"})})})})})]}),Object(I.jsx)("br",{}),Object(I.jsxs)(S.a,{children:[Object(I.jsxs)(Q.a,{sm:8,children:[Object(I.jsx)(k.a,{in:this.state.HSenabled,children:Object(I.jsx)("div",{children:Object(I.jsx)(w.a,{variant:"success",children:"New Personal Best WPM Score!"})})}),Object(I.jsx)(k.a,{in:this.state.QHSenabled,children:Object(I.jsx)("div",{children:Object(I.jsx)(w.a,{variant:"success",children:"New Quote High Score!"})})}),Object(I.jsx)(k.a,{in:this.state.input_disabled,children:Object(I.jsx)("div",{id:"results",children:Object(I.jsxs)(w.a,{variant:this.state.resultsVariant,children:[Object(I.jsx)(w.a.Heading,{children:this.state.endMsg}),Object(I.jsxs)("p",{children:["Here are your results:",Object(I.jsx)("br",{}),"WPM : ",this.state.netWPM," ",Object(I.jsx)("br",{}),"Accuracy : ",this.state.accuracy,"% ",Object(I.jsx)("br",{}),"Errors : ",this.state.total_error_count,Object(I.jsx)("br",{}),"Corrected Errors : ",this.state.error_count]})]})})})]}),Object(I.jsx)(Q.a,{sm:4,children:Object(I.jsx)(k.a,{in:this.state.debug,children:Object(I.jsx)("div",{children:Object(I.jsxs)(w.a,{variant:"warning",children:[Object(I.jsx)(w.a.Heading,{children:"Debug"}),Object(I.jsxs)("p",{children:["Error array : ",this.state.err_arr,Object(I.jsx)("br",{}),"quote length : ",this.state.char_array.length,Object(I.jsx)("br",{}),"Input count : ",this.state.count,Object(I.jsx)("br",{}),"Error Count : ",this.state.error_count,Object(I.jsx)("br",{}),"Total Error Count : ",this.state.total_error_count,Object(I.jsx)("br",{}),"Previous character : ",this.state.char_array[this.state.count-1],Object(I.jsx)("br",{}),"Current character : ",this.state.char_array[this.state.count],Object(I.jsx)("br",{}),"Next character : ",this.state.char_array[this.state.count+1],Object(I.jsx)("br",{}),"Quote left : ",this.state.quote_left,Object(I.jsx)("br",{}),"Quote green : ",this.state.current_quote_char,Object(I.jsx)("br",{}),"Quote right : ",this.state.quote_right,Object(I.jsx)("br",{}),"Quote error : ",this.state.quote_error]})]})})})})]})]})})}}]),a}(l.Component),U=a(15),N=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).checkLogin=s.checkLogin.bind(Object(x.a)(s)),s.onChangeQuoteTitle=s.onChangeQuoteTitle.bind(Object(x.a)(s)),s.onChangeQuoteBody=s.onChangeQuoteBody.bind(Object(x.a)(s)),s.onChangeQuoteAuthor=s.onChangeQuoteAuthor.bind(Object(x.a)(s)),s.validateField=s.validateField.bind(Object(x.a)(s)),s.validateForm=s.validateForm.bind(Object(x.a)(s)),s.addQuote=s.addQuote.bind(Object(x.a)(s)),s.state={loggedIn:!1,quoteTitleValid:!1,quoteBodyValid:!1,quoteAuthorValid:!1,formValid:!1,formErrors:{quoteTitle:"",quoteBody:"",quoteAuthor:""},formValidAndUser:!1,userName:"",id:"",quoteTitle:"",quoteBody:"",quoteAuthor:""},s}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.getItem("beepboop")){this.checkLogin();var t=localStorage.getItem("beepboop"),a="";a="https://typingtest.jdoyle.ie",T.a.get(a+"/user/profile",{headers:{"auth-token":t}}).then((function(t){console.log(e.state),t.data&&e.setState({userName:t.data.userName,id:t.data._id})}))}}},{key:"addQuote",value:function(e){var t=this;e.preventDefault();var a={quoteTitle:this.state.quoteTitle,quoteBody:this.state.quoteBody,quoteAuthor:this.state.quoteAuthor,quoteUser:this.state.userName},s=localStorage.getItem("beepboop"),n="";n="https://typingtest.jdoyle.ie",T.a.post(n+"/quotes/add",a,{headers:{"auth-token":s}}).then((function(e){var a={userId:t.state.id,quoteId:e.data};T.a.post(n+"/user/addQuote",a,{headers:{"auth-token":s}}),t.props.history.push({pathname:"/profile"})})).catch((function(e){return e}))}},{key:"checkLogin",value:function(){this.setState({loggedIn:!0})}},{key:"onChangeQuoteTitle",value:function(e){var t=this,a=e.target.name;this.setState({quoteTitle:e.target.value},(function(){t.validateField(a,t.state.quoteTitle)}))}},{key:"onChangeQuoteBody",value:function(e){var t=this,a=e.target.name;this.setState({quoteBody:e.target.value},(function(){t.validateField(a,t.state.quoteBody)}))}},{key:"onChangeQuoteAuthor",value:function(e){var t=this,a=e.target.name;this.setState({quoteAuthor:e.target.value},(function(){t.validateField(a,t.state.quoteAuthor)}))}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,s=this.state.quoteTitleValid,n=this.state.quoteBodyValid,o=this.state.quoteAuthorValid;switch(e){case"quoteTitle":s=t.length>=0&&t.length<40,a.quoteTitle=s?"":" must not be empty or greater than 20 characters.";break;case"quoteBody":n=t.length>=200&&t.length<=350,a.quoteBody=n?"":" is too short";break;case"quoteAuthor":if(0===t.length){o=!0,this.setState((function(e){return{quoteAuthor:e.username}}),(function(){a.quoteAuthor=""}));break}if(t.length<=10){o=!0,a.quoteAuthor=o?"":" is short long";break}}this.setState({formErrors:a,quoteTitleValid:s,quoteBodyValid:n,quoteAuthorValid:o},this.validateForm)}},{key:"validateForm",value:function(){console.log("quotetitle "+this.state.quoteTitleValid),console.log("quoteauth "+this.state.quoteAuthorValid),console.log("quoteboy "+this.state.quoteBodyValid),this.setState({formValid:this.state.quoteTitleValid&&this.state.quoteBodyValid&&this.state.quoteAuthorValid,formValidAndUser:this.state.formValid&&this.state.loggedIn})}},{key:"render",value:function(){return Object(I.jsx)("div",{className:"container",style:{height:window.screen.availHeight},children:Object(I.jsx)(B,{children:Object(I.jsx)(S.a,{children:Object(I.jsxs)(Q.a,{children:[Object(I.jsx)("h4",{children:"Create Quote"}),Object(I.jsx)("br",{}),Object(I.jsx)(w.a,{variant:"secondary",children:Object(I.jsxs)(U.a,{children:[Object(I.jsx)(w.a.Heading,{children:Object(I.jsxs)(S.a,{children:[Object(I.jsx)(Q.a,{m:"auto",children:Object(I.jsx)(U.a.Control,{value:this.state.quoteTitle,type:"text",size:"lg",onChange:this.onChangeQuoteTitle,name:"quoteTitle",placeholder:"Quote Title",isValid:!this.state.quoteTitleValid,isInvalid:!this.state.quoteTitleValid})}),Object(I.jsx)(Q.a,{xs:"auto",children:" -"}),Object(I.jsx)(Q.a,{xs:"auto",children:Object(I.jsx)(U.a.Control,{value:this.state.quoteAuthor,type:"text",size:"lg",onChange:this.onChangeQuoteAuthor,name:"quoteAuthor",placeholder:"Quote Author",isValid:!this.state.quoteAuthorValid,isInvalid:!this.state.quoteAuthorValid})})]})}),Object(I.jsx)(U.a.Text,{className:"text-muted",style:{float:"left"},children:"Quote titles must be shorter than 40 characters."}),Object(I.jsx)(U.a.Text,{className:"text-muted",style:{float:"right"},children:"Add the original Author of the Quote."}),Object(I.jsx)(U.a.Control,{value:this.state.quoteBody,id:"quoteBody",name:"quoteBody",as:"textarea",rows:"4",onChange:this.onChangeQuoteBody,placeholder:"Main Body of Quote",isValid:!this.state.quoteBodyValid,isInvalid:!this.state.quoteBodyValid}),Object(I.jsx)(U.a.Text,{className:"text-muted",children:"Main text of the Quote must be between 200 and 350 characters."}),Object(I.jsx)(U.a.Text,{className:"text-muted",children:"All Quotes will be approved by an admin before they can be used for testing."})]})}),Object(I.jsx)(A.a,{type:"submit",variant:"info",onClick:this.addQuote,disabled:!this.state.formValidAndUser,children:"Create Quote"}),Object(I.jsx)(U.a.Text,{className:"text-muted",children:"You must be logged in to add a Quote."})]})})})})}}]),a}(l.Component),W=a(57),F=P.b.input.attrs((function(e){return{type:"text",placeholder:" Search: Title, Author, User"}}))(o||(o=Object(q.a)(["\n    background: white;\n    border-radius: 5px;\n    border: 1px solid darkgray;\n    height : 35px;\n    margin-left : 80px;\n    width : 230px;\n    float: right;\n    :: disabled\n"]))),H=function(e){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(w.a,{variant:"secondary",children:[Object(I.jsx)(p.b,{to:{pathname:"/",state:{id:e.quote._id}},style:{color:"#202326"},children:Object(I.jsxs)(w.a.Heading,{children:[e.quote.quoteTitle," -",e.quote.quoteAuthor]})}),Object(I.jsx)("span",{children:e.quote.quoteBody}),Object(I.jsx)("hr",{}),Object(I.jsxs)(S.a,{children:[Object(I.jsxs)(Q.a,{sm:8,children:[Object(I.jsxs)("span",{children:["Added by: ",Object(I.jsx)(w.a.Link,{children:e.quote.quoteUser})]}),Object(I.jsxs)("span",{style:{marginLeft:10},children:["Rating : ",e.quote.quoteScore]}),Object(I.jsxs)("span",{style:{marginLeft:10},children:["High Score : ",e.quote.highWPMScore,"WPM ",e.quote.highAccScore,"% Accuracy"]})]}),Object(I.jsx)(Q.a,{sm:4,children:Object(I.jsx)("div",{style:{float:"right"}})})]})]}),Object(I.jsx)("br",{})]})},D=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).search=s.search.bind(Object(x.a)(s)),s.quotesList=s.quotesList.bind(Object(x.a)(s)),s.selectSort=s.selectSort.bind(Object(x.a)(s)),s.state={quotes:[],search:"",filteredQuotes:[],sortedQuotes:[],listHeight:0},s}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("card"),a="";a="https://typingtest.jdoyle.ie",T.a.get(a+"/quotes/approved").then((function(a){e.setState({quotes:a.data,filteredQuotes:a.data,listHeight:t})})).catch((function(e){console.log(e)}))}},{key:"quotesList",value:function(e){return e.map((function(e,t){return Object(I.jsx)(H,{quote:e,index:t},t)}))}},{key:"search",value:function(){var e=document.getElementById("searchBar").value,t=this.state.filteredQuotes.filter((function(t){return-1!==t.quoteTitle.toLowerCase().indexOf(e)||-1!==t.quoteAuthor.toLowerCase().indexOf(e)||-1!==t.quoteUser.indexOf(e)}));this.setState({filteredQuotes:t})}},{key:"selectSort",value:function(e){var t=e.target.value;console.log(document.getElementById("card").offsetHeight);var a=this.state.filteredQuotes,s=a;switch(console.log(a),t){case"a-z":s=a.sort((function(e,t){return e.quoteTitle>t.quoteTitle?1:-1}));break;case"z-a":s=a.sort((function(e,t){return e.quoteTitle<t.quoteTitle?1:-1}));break;case"rating":s=a.sort((function(e,t){return e.quoteScore<t.quoteScore?1:-1}));break;case"score":s=a.sort((function(e,t){return e.highWPMScore<t.highWPMScore?1:-1}))}this.setState({filteredQuotes:s})}},{key:"render",value:function(){return Object(I.jsxs)("div",{className:"container",children:[Object(I.jsxs)(B,{id:"card",children:[Object(I.jsxs)(S.a,{children:[Object(I.jsx)(Q.a,{sm:7,children:Object(I.jsx)("h4",{children:"Quotes"})}),Object(I.jsx)(Q.a,{sm:2,children:Object(I.jsxs)(W.a,{as:"select",size:"sm",onChange:this.selectSort,children:[Object(I.jsx)("option",{value:"a-z",children:"A-Z"}),Object(I.jsx)("option",{value:"z-a",children:"Z-A"}),Object(I.jsx)("option",{value:"rating",children:"Rating"}),Object(I.jsx)("option",{value:"score",children:"High Score"})]})}),Object(I.jsx)(Q.a,{sm:3,children:Object(I.jsx)(F,{id:"searchBar",onChange:this.search})})]}),Object(I.jsx)("br",{}),Object(I.jsx)(S.a,{children:Object(I.jsx)(Q.a,{children:this.quotesList(this.state.filteredQuotes)})})]}),Object(I.jsx)("div",{style:{height:800},children:" "})]})}}]),a}(l.Component),z=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).login=s.login.bind(Object(x.a)(s)),s.onChangeLoginUsername=s.onChangeLoginUsername.bind(Object(x.a)(s)),s.onChangeLoginPassword=s.onChangeLoginPassword.bind(Object(x.a)(s)),s.state={inputEmail:"",inputUsername:"",inputPassword:"",isEmail:!1,formErrors:{username:"",email:"",password:""},usernameValid:!1,emailValid:!1,passwordValid:!1,formValid:!1,loggedInUser:{},error:!1},s}return Object(v.a)(a,[{key:"componentDidMount",value:function(){}},{key:"onChangeLoginUsername",value:function(e){var t=this,a=e.target.name;this.setState({inputUsername:e.target.value},(function(){t.validateField(a,t.state.inputUsername)}))}},{key:"onChangeLoginPassword",value:function(e){var t=this,a=e.target.name;this.setState({inputPassword:e.target.value},(function(){t.validateField(a,t.state.inputPassword)}))}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,s=this.state.passwordValid,n=this.state.usernameValid;switch(e){case"Password":s=t.length>=6,a.password=s?"":" is too short";break;case"Username":n=t.length>=4,a.username=n?"":" is too short"}this.setState({formErrors:a,usernameValid:n,passwordValid:s},this.validateForm)}},{key:"login",value:function(e){var t=this;e.preventDefault();var a={userName:this.state.inputUsername,userPassword:this.state.inputPassword},s="";s="https://typingtest.jdoyle.ie",T.a.post(s+"/user/login",a,{withCredentials:!0}).then((function(e){localStorage.setItem("beepboop",e.data),t.props.history.push({pathname:"/profile"})})).catch((function(e){t.setState({error:!0})}))}},{key:"render",value:function(){return Object(I.jsxs)("div",{className:"container",children:[Object(I.jsxs)(B,{children:[Object(I.jsx)(S.a,{children:Object(I.jsx)(Q.a,{sm:5,children:Object(I.jsxs)(U.a,{children:[Object(I.jsxs)(U.a.Group,{children:[Object(I.jsx)("h4",{children:"Login"}),Object(I.jsx)(U.a.Label,{children:"User Name: "}),Object(I.jsx)(U.a.Control,{value:this.state.account_username,id:"inputLoginUserName",onChange:this.onChangeLoginUsername,name:"Username"}),Object(I.jsx)("br",{}),Object(I.jsx)(U.a.Label,{children:"Password: "}),Object(I.jsx)(U.a.Control,{type:"password",value:this.state.account_password,id:"inputLoginPassword",onChange:this.onChangeLoginPassword,name:"Password"})]}),Object(I.jsx)(A.a,{type:"submit",variant:"info",onClick:this.login,children:"Login"}),Object(I.jsx)(p.b,{to:"/account",children:Object(I.jsx)(A.a,{variant:"secondary",style:{marginLeft:10},children:"Create Account"})})]})})}),Object(I.jsx)("br",{}),Object(I.jsx)(S.a,{children:Object(I.jsx)(Q.a,{sm:5,children:Object(I.jsx)(k.a,{in:this.state.error,children:Object(I.jsx)("div",{children:Object(I.jsx)(w.a,{variant:"danger",children:Object(I.jsx)("p",{children:"Username or Password Incorrect"})})})})})})]}),Object(I.jsx)("div",{style:{height:800}})]})}}]),a}(l.Component),R=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).onChangeAccountUsername=s.onChangeAccountUsername.bind(Object(x.a)(s)),s.onChangeAccountEmail=s.onChangeAccountEmail.bind(Object(x.a)(s)),s.onChangeAccountPassword=s.onChangeAccountPassword.bind(Object(x.a)(s)),s.onSubmit=s.onSubmit.bind(Object(x.a)(s)),s.state={account_username:"",account_email:"",account_password:"",account_favourties:[],formErrors:{username:"",email:"",password:""},usernameValid:!1,emailValid:!1,passwordValid:!1,formValid:!1,loggedUser:{},inputLoginPassword:"",inputLoginUserName:""},s}return Object(v.a)(a,[{key:"onChangeAccountUsername",value:function(e){var t=this,a=e.target.name;this.setState({account_username:e.target.value},(function(){t.validateField(a,t.state.account_username)}))}},{key:"onChangeAccountEmail",value:function(e){var t=this,a=e.target.name;this.setState({account_email:e.target.value},(function(){t.validateField(a,t.state.account_email)}))}},{key:"onChangeAccountPassword",value:function(e){var t=this,a=e.target.name;this.setState({account_password:e.target.value},(function(){t.validateField(a,t.state.account_password)}))}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,s=this.state.emailValid,n=this.state.passwordValid,o=this.state.usernameValid;switch(e){case"Email":s=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.email=s?"":" is invalid";break;case"Password":n=t.length>=6,a.password=n?"":" is too short";break;case"Username":o=t.length>=4,a.username=o?"":" is too short"}this.setState({formErrors:a,usernameValid:o,emailValid:s,passwordValid:n},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.usernameValid&&this.state.emailValid&&this.state.passwordValid})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={userName:this.state.account_username,userEmail:this.state.account_email,userPassword:this.state.account_password},a="";a="https://typingtest.jdoyle.ie",T.a.post(a+"/user/register",t,{withCredentials:!0}).then((function(e){e.status(400)&&console.log("email in use")})),this.setState={account_username:"",account_email:"",account_password:""},this.props.history.push({pathname:"/login"})}},{key:"componentDidMount",value:function(){localStorage.getItem("beepboop")&&this.props.history.push({pathname:"/profile"})}},{key:"render",value:function(){return Object(I.jsxs)("div",{className:"container",children:[Object(I.jsx)(B,{children:Object(I.jsxs)(S.a,{children:[Object(I.jsx)(Q.a,{sm:5,children:Object(I.jsxs)(U.a,{children:[Object(I.jsxs)(U.a.Group,{children:[Object(I.jsx)("h4",{children:"Create Account"}),Object(I.jsx)(U.a.Label,{children:"User Name: "}),Object(I.jsx)(U.a.Control,{value:this.state.account_username,id:"inputUserName",onChange:this.onChangeAccountUsername,name:"Username"}),Object(I.jsx)("br",{}),Object(I.jsx)(U.a.Label,{children:"Email: "}),Object(I.jsx)(U.a.Control,{value:this.state.account_email,id:"inputUserEmail",onChange:this.onChangeAccountEmail,name:"Email"}),Object(I.jsx)("br",{}),Object(I.jsx)(U.a.Label,{children:"Password: "}),Object(I.jsx)(U.a.Control,{type:"password",value:this.state.account_password,id:"inputPassword",onChange:this.onChangeAccountPassword,name:"Password"})]}),Object(I.jsx)(A.a,{type:"submit",variant:"info",onClick:this.onSubmit,disabled:!this.state.formValid,children:"Create Account"}),Object(I.jsx)(p.b,{to:"/login",children:Object(I.jsx)(A.a,{variant:"secondary",style:{marginLeft:10},children:"Login"})})]})}),Object(I.jsx)(Q.a,{sm:2})]})}),Object(I.jsx)("div",{style:{height:800}})]})}}]),a}(l.Component),Y=a(110),K=a(23),G=a(49),J=a(111),$=a(90),X=(a(147),a(89)),Z=function(e){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(w.a,{variant:"secondary",children:[Object(I.jsx)(p.b,{to:{pathname:"/",state:{id:e.quote._id}},style:{color:"#202326"},children:Object(I.jsxs)(w.a.Heading,{children:[e.quote.quoteTitle," -",e.quote.quoteAuthor]})}),Object(I.jsx)("span",{children:e.quote.quoteBody}),Object(I.jsx)("hr",{}),Object(I.jsxs)(S.a,{children:[Object(I.jsxs)(Q.a,{sm:8,children:[Object(I.jsxs)("span",{style:{marginLeft:10},children:["Approved : ",String(e.quote.quoteApproved)]}),Object(I.jsxs)("span",{style:{marginLeft:10},children:["Rating : ",e.quote.quoteScore]}),Object(I.jsxs)("span",{style:{marginLeft:10},children:["High Score : ",e.quote.highWPMScore,"WPM ",e.quote.highAccScore,"% Accuracy"]})]}),Object(I.jsx)(Q.a,{sm:4,children:Object(I.jsxs)("div",{style:{float:"right"},children:[Object(I.jsx)(w.a.Link,{style:{marginRight:10},onClick:e.edit,children:"Edit"}),Object(I.jsx)(w.a.Link,{onClick:e.delete,children:"Delete"})]})})]})]}),Object(I.jsx)("br",{})]})},ee=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).logout=s.logout.bind(Object(x.a)(s)),s.getQuotes=s.getQuotes.bind(Object(x.a)(s)),s.deleteAccount=s.deleteAccount.bind(Object(x.a)(s)),s.editAccount=s.editAccount.bind(Object(x.a)(s)),s.approveButton=s.approveButton.bind(Object(x.a)(s)),s.editQuote=s.editQuote.bind(Object(x.a)(s)),s.deleteQuote=s.deleteQuote.bind(Object(x.a)(s)),s.deleteThisQuote=s.deleteThisQuote.bind(Object(x.a)(s)),s.showEditErrors=s.showEditErrors.bind(Object(x.a)(s)),s.handleDeleteAccountClose=s.handleDeleteAccountClose.bind(Object(x.a)(s)),s.handleDeleteQuoteClose=s.handleDeleteQuoteClose.bind(Object(x.a)(s)),s.handleEditQuoteClose=s.handleEditQuoteClose.bind(Object(x.a)(s)),s.saveQuote=s.saveQuote.bind(Object(x.a)(s)),s.validateField=s.validateField.bind(Object(x.a)(s)),s.validateForm=s.validateForm.bind(Object(x.a)(s)),s.onChangeQuoteTitle=s.onChangeQuoteTitle.bind(Object(x.a)(s)),s.onChangeQuoteAuthor=s.onChangeQuoteAuthor.bind(Object(x.a)(s)),s.onChangeQuoteBody=s.onChangeQuoteBody.bind(Object(x.a)(s)),s.handleSelect=s.handleSelect.bind(Object(x.a)(s)),s.state={id:"",username:"",email:"",signUpDate:"",personalBestWPM:0,personalBestAcc:0,quoteIds:[],quotes:[],APIURL:"",unapprovedQuotesCount:0,deleteAccountModal:!1,deleteQuoteModal:!1,editQuoteModal:!1,activeTab:e.activeTab||1,quoteTitleValid:!1,quoteBodyValid:!1,quoteAuthorValid:!1,formValid:!1,formErrors:{quoteTitle:"",quoteBody:"",quoteAuthor:""},editQuote:{quoteTitle:"",quoteAuthor:"",quoteBody:""},deletingQuote:{quoteTitle:""}},s}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("beepboop"),a="";a="https://typingtest.jdoyle.ie",this.setState({APIURL:"https://typingtest.jdoyle.ie"}),T.a.get(a+"/user/profile",{headers:{"auth-token":t}}).then((function(t){t.data.isAdmin&&localStorage.setItem("nimdAis",t.data.isAdmin);var a="";console.log(localStorage.getItem("isDarkMode")),a=localStorage.getItem("isDarkMode")?"dark":"light",console.log(a),t.data&&(e.setState({id:t.data._id,username:t.data.userName,email:t.data.userEmail,signUpDate:t.data.signUpDate.slice(0,15),personalBestWPM:t.data.personalBestWPM,personalBestAcc:t.data.personalBestAcc,quoteIds:t.data.quotesAdded,WPMChartConfig:{theme:a,type:"line",title:{text:"Words Per Minute"},height:"60%",legend:{},scaleX:{label:{text:"Typing Tests"}},scaleY:{label:{text:"WPM"},values:"0:125:25","ref-value":40,"ref-line":{"line-color":"red","line-style":"solid"}},series:[{values:t.data.latestWPMScores,text:"Your WPM"},{values:40,text:"Avg WPM"}]},AccChartConfig:{theme:a,type:"line",title:{text:"Typing Accuracy % "},height:"70%",legend:{},scaleX:{label:{text:"Typing Tests"}},scaleY:{label:{text:"Accuracy % "},values:"0:125:25","ref-value":92,"ref-line":{"line-color":"red","line-style":"solid"}},series:[{values:t.data.latestAccScores,text:"Your Accuracy %"},{values:92,text:"Avg Accuracy %"}]}},(function(){return console.log(e.state.chartConfig)})),e.getQuotes())})),T.a.get(a+"/quotes/unapproved",{headers:{"auth-token":t}}).then((function(t){t.data.length>0?e.setState({unapprovedQuotesCount:t.data.length}):e.setState({unapprovedQuotesCount:null})})).catch((function(e){console.log(e)}))}},{key:"getQuotes",value:function(){var e=this;this.state.quoteIds.length>0&&this.state.quoteIds.forEach((function(t){T.a.get(e.state.APIURL+"/quotes/"+t).then((function(t){t.data&&e.setState({quotes:[].concat(Object(Y.a)(e.state.quotes),[t.data])})}))}))}},{key:"quotesComponentsList",value:function(){var e=this.editQuote,t=this.deleteQuote;return this.state.quotes.length>0?this.state.quotes.map((function(a,s){return Object(I.jsx)(Z,{quote:a,index:s,edit:function(){return e(a)},delete:function(){return t(a)}},s)})):Object(I.jsx)(p.b,{to:"/createQuote",children:Object(I.jsx)(A.a,{children:" Add Some Quotes!"})})}},{key:"editQuote",value:function(e){var t=this;this.setState({editQuote:e},(function(){return t.handleEditQuoteClose()}))}},{key:"deleteQuote",value:function(e){var t=this;this.setState({deletingQuote:e},(function(){return t.handleDeleteQuoteClose()}))}},{key:"deleteThisQuote",value:function(){var e=this,t=this.state.deletingQuote,a=localStorage.getItem("beepboop");T.a.post(this.state.APIURL+"/quotes/delete",t,{headers:{"auth-token":a}}).then((function(t){console.log(t.data),e.setState({editQuoteModal:!1}),window.location.reload()})).catch((function(e){return e}))}},{key:"onChangeQuoteTitle",value:function(e){var t=this,a=e.target.name;this.setState({editQuote:Object(O.a)(Object(O.a)({},this.state.editQuote),{},{quoteTitle:e.target.value})},(function(){t.validateField(a,t.state.editQuote.quoteTitle)}))}},{key:"onChangeQuoteAuthor",value:function(e){var t=this,a=e.target.name;this.setState({editQuote:Object(O.a)(Object(O.a)({},this.state.editQuote),{},{quoteAuthor:e.target.value})},(function(){t.validateField(a,t.state.editQuote.quoteAuthor)}))}},{key:"onChangeQuoteBody",value:function(e){var t=this,a=e.target.name;this.setState({editQuote:Object(O.a)(Object(O.a)({},this.state.editQuote),{},{quoteBody:e.target.value})},(function(){t.validateField(a,t.state.editQuote.quoteBody)}))}},{key:"saveQuote",value:function(){var e=this,t=localStorage.getItem("beepboop"),a=this.state.editQuote;console.log(a),console.log(this.state.APIURL),T.a.post(this.state.APIURL+"/quotes/update",a,{headers:{"auth-token":t}}).then((function(t){e.setState({editQuoteModal:!1}),window.location.reload()})).catch((function(e){return e}))}},{key:"validateField",value:function(e,t){var a=this.state.formErrors,s=this.state.quoteTitleValid,n=this.state.quoteBodyValid,o=this.state.quoteAuthorValid;switch(e){case"quoteTitle":s=t.length>=0&&t.length<40,a.quoteTitle=s?"":"Quote Title must not be empty or greater than 20 characters.";break;case"quoteBody":n=t.length>=200&&t.length<=350,a.quoteBody=n?"":"Quote Body is too short";break;case"quoteAuthor":if(0===t.length){o=!0,this.setState((function(e){return{quoteAuthor:e.username}}),(function(){a.quoteAuthor=""}));break}if(t.length<=20){o=!0,a.quoteAuthor=o?"":"Quote Author is short long";break}}this.setState({formErrors:a,quoteTitleValid:s,quoteBodyValid:n,quoteAuthorValid:o},this.validateForm)}},{key:"validateForm",value:function(){console.log(this.state.quoteTitleValid,this.state.quoteAuthorValid,this.state.quoteBodyValid),this.setState({formValid:this.state.quoteTitleValid&&this.state.quoteBodyValid&&this.state.quoteAuthorValid})}},{key:"showEditErrors",value:function(){if(!this.state.formValid)return Object(I.jsxs)(w.a,{variant:"danger",children:[this.state.formErrors.quoteTitle,this.state.formErrors.quoteAuthor,this.state.formErrors.quoteBody]})}},{key:"handleDeleteAccountClose",value:function(){this.setState({deleteAccountModal:!this.state.deleteAccountModal})}},{key:"handleEditQuoteClose",value:function(){this.setState({editQuoteModal:!this.state.editQuoteModal})}},{key:"handleDeleteQuoteClose",value:function(){this.setState({deleteQuoteModal:!this.state.deleteQuoteModal})}},{key:"logout",value:function(){localStorage.removeItem("beepboop"),localStorage.removeItem("nimdAis"),this.props.history.push({pathname:"/login"})}},{key:"deleteAccount",value:function(){var e=localStorage.getItem("beepboop");localStorage.removeItem("beepboop");var t={userName:this.state.username,userEmail:this.state.email};T.a.post(this.state.APIURL+"/user/delete",t,{headers:{"auth-token":e}}),this.props.history.push({pathname:"/login"})}},{key:"editAccount",value:function(){localStorage.getItem("beepboop"),this.state.username,this.state.email,this.state.id;this.props.history.push({pathname:"/editAccount",state:{id:this.state.id}})}},{key:"approveButton",value:function(){if(localStorage.getItem("nimdAis"))return Object(I.jsx)(p.b,{to:"/approveQuote",children:Object(I.jsxs)(A.a,{variant:"outline-success",style:{marginLeft:10},children:["Approve Quotes",Object(I.jsx)(G.a,{variant:"danger",style:{marginLeft:5},children:this.state.unapprovedQuotesCount})]})})}},{key:"handleSelect",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(){return Object(I.jsxs)("div",{className:"container",children:[Object(I.jsxs)(K.a,{show:this.state.deleteAccountModal,backdrop:"static",keyboard:!1,centered:!0,children:[Object(I.jsx)(K.a.Header,{children:Object(I.jsx)(K.a.Title,{children:"Delete Account?"})}),Object(I.jsx)(K.a.Body,{children:"Are you sure you want to delete your account? This is not reversable."}),Object(I.jsxs)(K.a.Footer,{children:[Object(I.jsx)(A.a,{variant:"secondary",onClick:this.handleDeleteAccountClose,children:"Nevermind"}),Object(I.jsx)(A.a,{variant:"danger",onClick:this.deleteAccount,children:"Delete Account"})]})]}),Object(I.jsxs)(K.a,{show:this.state.deleteQuoteModal,backdrop:"static",keyboard:!1,centered:!0,children:[Object(I.jsx)(K.a.Header,{children:Object(I.jsx)(K.a.Title,{children:"Delete Quote?"})}),Object(I.jsxs)(K.a.Body,{children:["Are you sure you want to delete ",this.state.deletingQuote.quoteTitle,"? This is not reversable and will delete the quotes top score and WPM."]}),Object(I.jsxs)(K.a.Footer,{children:[Object(I.jsx)(A.a,{variant:"secondary",onClick:this.handleDeleteQuoteClose,children:"Nevermind"}),Object(I.jsx)(A.a,{variant:"danger",onClick:this.deleteThisQuote,children:"Delete Quote"})]})]}),Object(I.jsxs)(K.a,{show:this.state.editQuoteModal,backdrop:"static",keyboard:!1,size:"xl",centered:!0,children:[Object(I.jsx)(K.a.Header,{children:Object(I.jsx)(K.a.Title,{children:"Edit Quote"})}),Object(I.jsx)(K.a.Body,{children:Object(I.jsxs)("div",{children:[Object(I.jsx)(w.a,{variant:"secondary",children:Object(I.jsxs)(U.a,{children:[Object(I.jsx)(w.a.Heading,{children:Object(I.jsxs)(S.a,{children:[Object(I.jsx)(Q.a,{m:"auto",children:Object(I.jsx)(U.a.Control,{value:this.state.editQuote.quoteTitle,type:"text",size:"lg",onChange:this.onChangeQuoteTitle,name:"quoteTitle"})}),Object(I.jsx)(Q.a,{xs:"auto",children:" -"}),Object(I.jsx)(Q.a,{xs:"auto",children:Object(I.jsx)(U.a.Control,{value:this.state.editQuote.quoteAuthor,type:"text",style:{width:String(this.state.editQuote.quoteAuthor.length)},size:"lg",onChange:this.onChangeQuoteAuthor,name:"quoteAuthor"})})]})}),Object(I.jsx)(U.a.Control,{value:this.state.editQuote.quoteBody,id:"quoteBody",name:"quoteBody",as:"textarea",rows:"4",onChange:this.onChangeQuoteBody})]})}),this.showEditErrors()]})}),Object(I.jsxs)(K.a.Footer,{children:[Object(I.jsx)(A.a,{variant:"secondary",onClick:this.handleEditQuoteClose,children:"Nevermind"}),Object(I.jsx)(A.a,{variant:"success",onClick:this.saveQuote,disabled:!this.state.formValid,children:"Save Quote"})]})]}),Object(I.jsxs)(B,{children:[Object(I.jsxs)(S.a,{children:[Object(I.jsxs)(Q.a,{sm:9,children:[Object(I.jsxs)("h3",{children:[this.state.username,"'s Profile"]}),Object(I.jsxs)("h5",{children:["Email:  ",this.state.email]}),Object(I.jsxs)("h5",{children:["Date Joined:  ",this.state.signUpDate]})]}),Object(I.jsxs)(Q.a,{sm:3,children:[Object(I.jsx)("h4",{children:"Personal Best:"}),Object(I.jsx)(w.a,{variant:"info",children:Object(I.jsxs)("span",{children:["WPM : ",this.state.personalBestWPM," ",Object(I.jsx)("br",{}),"Accuracy : ",this.state.personalBestAcc,"% ",Object(I.jsx)("br",{})]})})]})]}),Object(I.jsx)(S.a,{children:Object(I.jsxs)(Q.a,{children:[Object(I.jsx)("br",{}),Object(I.jsx)(p.b,{to:"/editAccount",children:Object(I.jsx)(A.a,{variant:"outline-info",onClick:this.editAccount,style:{marginRight:10},disabled:!1,children:"Edit Account"})}),Object(I.jsx)(A.a,{variant:"outline-warning",onClick:this.logout,style:{marginRight:10},children:"Logout"}),Object(I.jsx)(A.a,{variant:"outline-danger",onClick:this.handleDeleteQuoteClose,children:"Delete Account"}),this.approveButton()]})}),Object(I.jsx)("br",{}),Object(I.jsx)(S.a,{children:Object(I.jsx)(Q.a,{children:Object(I.jsxs)(J.a,{className:"tabClass",activeKey:this.state.activeTab,onSelect:this.handleSelect,children:[Object(I.jsxs)($.a,{eventKey:1,title:"Your Quotes",children:[Object(I.jsx)("br",{}),Object(I.jsx)("div",{children:this.quotesComponentsList()})]}),Object(I.jsxs)($.a,{eventKey:2,title:"Your Scores",children:[Object(I.jsx)("br",{}),Object(I.jsx)(X.a,{data:this.state.WPMChartConfig}),Object(I.jsx)(X.a,{data:this.state.AccChartConfig})]})]})})})]}),Object(I.jsx)("div",{style:{height:800}})]})}}]),a}(l.Component),te=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).onChangeAccountUsername=s.onChangeAccountUsername.bind(Object(x.a)(s)),s.onChangeAccountEmail=s.onChangeAccountEmail.bind(Object(x.a)(s)),s.onChangeAccountPassword=s.onChangeAccountPassword.bind(Object(x.a)(s)),s.onChangeAccountConfirmPassword=s.onChangeAccountConfirmPassword.bind(Object(x.a)(s)),s.onChangeCurrentPassword=s.onChangeCurrentPassword.bind(Object(x.a)(s)),s.editAccount=s.editAccount.bind(Object(x.a)(s)),s.checkPassword=s.checkPassword.bind(Object(x.a)(s)),s.passwordsMatch=s.passwordsMatch.bind(Object(x.a)(s)),s.validateField=s.validateField.bind(Object(x.a)(s)),s.validateForm=s.validateForm.bind(Object(x.a)(s)),s.state={oldUser:{id:"",userName:"",email:"",password:""},newInput:{userName:"",email:"",password:"",confirmPassword:"",id:""},newUser:{userName:"",email:"",password:""},onChangeCurrentPassword:"",Modal:!0,token:"",authValid:!1,emailValid:!1,passwordValid:!1,usernameValid:!1,formValid:!1,formErrors:{email:"",password:"",username:""}},s}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("beepboop"),a="";a="https://typingtest.jdoyle.ie",this.setState({APIURL:"https://typingtest.jdoyle.ie"}),T.a.get(a+"/user/profile",{headers:{"auth-token":t}}).then((function(a){a.data&&e.setState({oldUser:{id:a.data._id,userName:a.data.userName,email:a.data.userEmail},token:t})}))}},{key:"editAccount",value:function(){var e=this.state.newInput;console.log(e),""===this.state.newInput.password&&this.passwordsMatch&&(e.password=this.state.oldUser.password),""===this.state.newInput.userName&&(e.userName=this.state.oldUser.userName),""===this.state.newInput.email&&(e.email=this.state.oldUser.email),e.id=this.state.oldUser.id,console.log(e),T.a.post(this.state.APIURL+"/user/update",e,{headers:{"auth-token":this.state.token}}).then((function(e){console.log(e.data)})).catch((function(e){return e}))}},{key:"onChangeAccountUsername",value:function(e){var t=this,a=e.target.name;this.setState({newInput:{userName:e.target.value,email:this.state.newInput.email,password:this.state.newInput.password,confirmPassword:this.state.newInput.confirmPassword}},(function(){t.validateField(a,t.state.newInput.userName)}))}},{key:"onChangeAccountEmail",value:function(e){var t=this,a=e.target.name;this.setState({newInput:{email:e.target.value,userName:this.state.newInput.userName,password:this.state.newInput.password,confirmPassword:this.state.newInput.confirmPassword}},(function(){t.validateField(a,t.state.newInput.email)}))}},{key:"onChangeAccountPassword",value:function(e){var t=this,a=e.target.name;this.setState({newInput:{password:e.target.value,confirmPassword:this.state.newInput.confirmPassword,userName:this.state.newInput.userName,email:this.state.newInput.email}},(function(){t.validateField(a,t.state.newInput.password)}))}},{key:"onChangeAccountConfirmPassword",value:function(e){e.target.name;this.setState({newInput:{confirmPassword:e.target.value,userName:this.state.newInput.userName,email:this.state.newInput.email,passowrd:this.state.newInput.password}})}},{key:"onChangeCurrentPassword",value:function(e){e.target.name;this.setState({onChangeCurrentPassword:e.target.value})}},{key:"validateField",value:function(e,t){console.log(t);var a=this.state.formErrors,s=this.state.emailValid,n=this.state.passwordValid,o=this.state.usernameValid;switch(e){case"Email":s=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.email=s?"":" is invalid";break;case"Password":n=t.length>=6,a.password=n?"":" is too short";break;case"Username":o=t.length>=4,a.username=o?"":" is too short"}this.setState({formErrors:a,usernameValid:o,emailValid:s,passwordValid:n},this.validateForm)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.usernameValid&&this.state.emailValid&&this.state.passwordValid})}},{key:"checkPassword",value:function(){var e=this,t={userName:this.state.oldUser.userName,userPassword:this.state.onChangeCurrentPassword};this.setState((function(e){return{oldUser:Object(O.a)(Object(O.a)({},e.oldUser),{},{password:t.userPassword})}})),T.a.post(this.state.APIURL+"/user/login",t,{withCredentials:!0}).then((function(t){t.data?e.setState({Modal:!1}):console.log("error")})).catch((function(t){e.setState({authValid:!0})}))}},{key:"passwordsMatch",value:function(){return this.state.newPassword===this.state.newConfirmPassowrd}},{key:"render",value:function(){return Object(I.jsxs)("div",{className:"container",style:{height:window.innerHeight},children:[Object(I.jsxs)(K.a,{show:this.state.Modal,backdrop:"static",keyboard:!1,centered:!0,children:[Object(I.jsx)(K.a.Header,{children:Object(I.jsx)(K.a.Title,{children:"Enter your current Password"})}),Object(I.jsxs)(K.a.Body,{children:["Enter your current password to edit your Account.",Object(I.jsx)(U.a,{children:Object(I.jsx)(U.a.Control,{value:this.state.onChangeCurrentPassword,type:"password",id:"inputUserName",onChange:this.onChangeCurrentPassword,name:"Username",isInvalid:this.state.authValid})})]}),Object(I.jsxs)(K.a.Footer,{children:[Object(I.jsx)(p.b,{to:"/profile",children:Object(I.jsx)(A.a,{variant:"secondary",onClick:this.handleClose,children:"Nevermind"})}),Object(I.jsx)(A.a,{variant:"danger",onClick:this.checkPassword,children:"Edit Account"})]})]}),Object(I.jsx)(B,{children:Object(I.jsx)(S.a,{children:Object(I.jsx)(Q.a,{sm:5,children:Object(I.jsxs)(U.a,{children:[Object(I.jsxs)(U.a.Group,{children:[Object(I.jsx)("h4",{children:"Edit Account"}),Object(I.jsx)(U.a.Label,{children:"User Name:"}),Object(I.jsx)(U.a.Control,{value:this.state.newInput.userName,id:"inputUserName",onChange:this.onChangeAccountUsername,name:"Username",placeholder:this.state.oldUser.userName,isValid:this.state.usernameValid}),Object(I.jsx)("br",{}),Object(I.jsx)(U.a.Label,{children:"Email: "}),Object(I.jsx)(U.a.Control,{value:this.state.newInput.email,id:"inputUserEmail",onChange:this.onChangeAccountEmail,name:"Email",placeholder:this.state.oldUser.email,isValid:this.state.emailValid}),Object(I.jsx)("br",{}),Object(I.jsx)(U.a.Label,{children:"Password: "}),Object(I.jsx)(U.a.Control,{type:"password",value:this.state.newInput.password,id:"inputPassword",onChange:this.onChangeAccountPassword,name:"Password",isValid:this.state.passwordValid}),Object(I.jsx)(U.a.Label,{children:"Confirm Password: "}),Object(I.jsx)(U.a.Control,{type:"password",value:this.state.newInput.confirmPassword,id:"inputConfirmPassword",onChange:this.onChangeAccountConfirmPassword,name:"ConfirmPassword"})]}),Object(I.jsx)(p.b,{to:"/profile",children:Object(I.jsx)(A.a,{variant:"secondary",style:{marginRight:10},children:"Cancel"})}),Object(I.jsx)(A.a,{variant:"info",onClick:this.editAccount,children:"Save"})]})})})})]})}}]),a}(l.Component),ae=P.b.input.attrs((function(e){return{type:"text",placeholder:" Search: Title, Author, User"}}))(r||(r=Object(q.a)(["\n    background: white;\n    border-radius: 5px;\n    border: 1px solid darkgray;\n    height : 35px;\n    margin-left : 80px;\n    width : 230px;\n    float: right;\n    :: disabled\n"]))),se=function(e){return Object(I.jsxs)("div",{children:[Object(I.jsxs)(w.a,{variant:"secondary",children:[Object(I.jsx)(p.b,{to:{pathname:"/",state:{id:e.quote._id}},style:{color:"#202326"},children:Object(I.jsxs)(w.a.Heading,{children:[e.quote.quoteTitle," -",e.quote.quoteAuthor]})}),Object(I.jsx)("span",{children:e.quote.quoteBody}),Object(I.jsx)("hr",{}),Object(I.jsxs)(S.a,{children:[Object(I.jsxs)(Q.a,{sm:8,children:[Object(I.jsxs)("span",{children:["Added by: ",Object(I.jsx)(w.a.Link,{children:e.quote.quoteUser})]}),Object(I.jsxs)("span",{style:{marginLeft:10},children:["Approved : ",String(e.quote.quoteApproved)]}),Object(I.jsxs)("span",{style:{marginLeft:10},children:["Rating : ",e.quote.quoteScore]}),Object(I.jsxs)("span",{style:{marginLeft:10},children:["High Score : ",e.quote.highWPMScore,"WPM ",e.quote.highAccScore,"% Accuracy"]})]}),Object(I.jsx)(Q.a,{sm:4,children:Object(I.jsxs)("div",{style:{float:"right"},children:[Object(I.jsx)(A.a,{variant:"success",style:{marginRight:5},onClick:e.approve,children:"Approve"}),Object(I.jsx)(A.a,{variant:"danger",onClick:e.del,children:"Delete"})]})})]})]}),Object(I.jsx)("br",{})]})},ne=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).search=s.search.bind(Object(x.a)(s)),s.quotesList=s.quotesList.bind(Object(x.a)(s)),s.approveQuote=s.approveQuote.bind(Object(x.a)(s)),s.deleteQuote=s.deleteQuote.bind(Object(x.a)(s)),s.noQuotes=s.noQuotes.bind(Object(x.a)(s)),s.state={quotes:[],search:"",token:"",APIURL:""},s}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("beepboop"),a="";a="https://typingtest.jdoyle.ie",this.setState({APIURL:"https://typingtest.jdoyle.ie"}),T.a.get(a+"/quotes/unapproved",{headers:{"auth-token":t}}).then((function(t){e.setState({quotes:t.data,token:localStorage.getItem("beepboop")})})).catch((function(e){console.log(e)}))}},{key:"quotesList",value:function(e){var t=this.approveQuote,a=this.deleteQuote;return e.map((function(e,s){return Object(I.jsx)(se,{quote:e,index:s,approve:function(){return t(e)},del:function(){return a(e)}},s)}))}},{key:"search",value:function(){this.setState({search:document.getElementById("searchBar").value})}},{key:"approveQuote",value:function(e){var t=this;console.log(e),T.a.post(this.state.APIURL+"/quotes/approve",e,{headers:{"auth-token":this.state.token}}).then((function(e){console.log(e.data),t.setState({quotes:[]})})),console.log(e.quoteApproved)}},{key:"deleteQuote",value:function(){console.log("Delete")}},{key:"noQuotes",value:function(){if(0===this.state.quotes.length)return Object(I.jsx)("span",{children:"No quotes to approve!"})}},{key:"render",value:function(){var e=this,t=this.state.quotes.filter((function(t){return-1!==t.quoteTitle.toLowerCase().indexOf(e.state.search)||-1!==t.quoteAuthor.toLowerCase().indexOf(e.state.search)||-1!==t.quoteUser.indexOf(e.state.search)}));return Object(I.jsxs)("div",{className:"container",children:[Object(I.jsxs)(B,{children:[Object(I.jsxs)(S.a,{children:[Object(I.jsx)(Q.a,{sm:8,children:Object(I.jsx)("h4",{children:" Approve Quotes"})}),Object(I.jsx)(Q.a,{sm:4,children:Object(I.jsx)(ae,{id:"searchBar",onChange:this.search})})]}),Object(I.jsx)("br",{}),Object(I.jsx)(S.a,{children:Object(I.jsx)(Q.a,{children:Object(I.jsx)(p.b,{to:"/profile",children:Object(I.jsx)(A.a,{variant:"info",children:"Back to Profile"})})})}),Object(I.jsx)("br",{}),Object(I.jsx)(S.a,{children:Object(I.jsxs)(Q.a,{children:[this.quotesList(t),this.noQuotes()]})})]}),Object(I.jsx)("div",{style:{height:800}})]})}}]),a}(l.Component),oe=a(108),re=(P.b.input.attrs((function(e){return{type:"text",placeholder:" Search: Title, Author, User"}}))(i||(i=Object(q.a)(["\n    background: white;\n    border-radius: 5px;\n    border: 1px solid darkgray;\n    height : 35px;\n    margin-left : 80px;\n    width : 230px;\n    float: right;\n    :: disabled\n"]))),function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:e.index+1}),Object(I.jsx)("td",{children:e.user.userName}),Object(I.jsx)("td",{children:e.user.personalBestWPM}),Object(I.jsxs)("td",{children:[e.user.personalBestAcc,"%"]})]})}),ie=function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:e.index+1}),Object(I.jsxs)("td",{children:[e.user.userName," ",Object(I.jsx)(G.a,{variant:"danger",children:"Fastest Fingers"})]}),Object(I.jsx)("td",{children:e.user.personalBestWPM}),Object(I.jsxs)("td",{children:[e.user.personalBestAcc,"%"]})]})},ce=function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:e.index+1}),Object(I.jsxs)("td",{children:[e.user.userName," ",Object(I.jsx)(G.a,{variant:"warning",children:"Sharp Shooter"})]}),Object(I.jsx)("td",{children:e.user.personalBestWPM}),Object(I.jsxs)("td",{children:[e.user.personalBestAcc,"%"]})]})},ue=function(e){return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:e.index+1}),Object(I.jsxs)("td",{children:[e.user.userName," ","  ",Object(I.jsx)(G.a,{variant:"danger",children:"Fastest Fingers"}),"  ",Object(I.jsx)(G.a,{variant:"warning",children:"Sharp Shooter"})]}),Object(I.jsx)("td",{children:e.user.personalBestWPM}),Object(I.jsxs)("td",{children:[e.user.personalBestAcc,"%"]})]})},le=function(e){Object(f.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).search=s.search.bind(Object(x.a)(s)),s.userList=s.userList.bind(Object(x.a)(s)),s.state={users:[],search:""},s}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="";t="https://typingtest.jdoyle.ie",T.a.get(t+"/user/").then((function(t){e.setState({users:t.data})})).catch((function(e){console.log(e)}))}},{key:"userList",value:function(e){var t=e;t.sort((function(e,t){return e.personalBestAcc<t.personalBestAcc?1:-1}));var a=t[0];e.sort((function(e,t){return e.personalBestWPM<t.personalBestWPM||e.personalBestWPM===t.personalBestWPM&&e.personalBestAcc<t.personalBestAcc?1:-1}));var s=e[0];return e.map((function(e,t){return s===e&&a===e?Object(I.jsx)(ue,{user:e,index:t},t):s===e?Object(I.jsx)(ie,{user:e,index:t},t):a==e?Object(I.jsx)(ce,{user:e,index:t},t):Object(I.jsx)(re,{user:e,index:t},t)}))}},{key:"search",value:function(){this.setState({search:document.getElementById("searchBar").value})}},{key:"render",value:function(){return Object(I.jsx)("div",{className:"container",style:{height:window.innerHeight},children:Object(I.jsxs)(B,{children:[Object(I.jsx)(S.a,{children:Object(I.jsx)(Q.a,{sm:8,children:Object(I.jsx)("h4",{children:"Leaderboard"})})}),Object(I.jsx)("br",{}),Object(I.jsx)(S.a,{children:Object(I.jsx)(Q.a,{children:Object(I.jsxs)(oe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,variant:"dark",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{children:"Rank"}),Object(I.jsx)("th",{children:"User"}),Object(I.jsx)("th",{children:"WPM"}),Object(I.jsx)("th",{children:"Accuracy"})]})}),Object(I.jsx)("tbody",{children:this.userList(this.state.users)})]})})})]})})}}]),a}(l.Component),de=a(112),he=["component"],je=function(e){var t=e.component,a=Object(de.a)(e,he);return Object(I.jsx)(g.b,Object(O.a)(Object(O.a)({},a),{},{render:function(e){return localStorage.getItem("nimdAis")?Object(I.jsx)(t,Object(O.a)({},e)):Object(I.jsx)(g.a,{to:"/profile"})}}))},be=(a(148),a(83)),pe=a(64),ge=a(63),Oe={colors:{background:"white",cardBackground:"#F5FFFA",buttonBackground:"#5E81AC",textColor:"black",buttonColor:"ECEFF4"}},me={colors:{background:"#343A40",cardBackground:"#3B4252",buttonBackground:"#d08770",textColor:"#ECEFF4",buttonColor:"#2E3440"}},ve=P.b.div(c||(c=Object(q.a)(["\n    background: ",";\n    color: ",";\n    align-items: center;\n    justify-content: center;\n    padding: 0px;\n\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.textColor})),xe=P.b.svg(u||(u=Object(q.a)(['\n width : 30px;\n height : 30px;\n alt="Typing Test;\n']))),fe=function(e){e.className;return Object(I.jsx)(xe,{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-keyboard-fill",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(I.jsx)("path",{fillRule:"evenodd",d:"M0 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6zm13 .25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zM2.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 3 8.75v-.5A.25.25 0 0 0 2.75 8h-.5zM4 8.25A.25.25 0 0 1 4.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 4 8.75v-.5zM6.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 7 8.75v-.5A.25.25 0 0 0 6.75 8h-.5zM8 8.25A.25.25 0 0 1 8.25 8h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 8 8.75v-.5zM13.25 8a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zm0 2a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zm-3-2a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h1.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-1.5zm.75 2.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zM11.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-.5zM9 6.25A.25.25 0 0 1 9.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 9 6.75v-.5zM7.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h.5A.25.25 0 0 0 8 6.75v-.5A.25.25 0 0 0 7.75 6h-.5zM5 6.25A.25.25 0 0 1 5.25 6h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 5 6.75v-.5zM2.25 6a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h1.5A.25.25 0 0 0 4 6.75v-.5A.25.25 0 0 0 3.75 6h-1.5zM2 10.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5zM4.25 10a.25.25 0 0 0-.25.25v.5c0 .138.112.25.25.25h5.5a.25.25 0 0 0 .25-.25v-.5a.25.25 0 0 0-.25-.25h-5.5z"})})},ye=function(){var e=localStorage.getItem("isDarkMode"),t=Object(l.useState)("true"===e),a=Object(b.a)(t,2),s=a[0],n=a[1];return Object(I.jsx)(P.a,{theme:s?me:Oe,children:Object(I.jsx)(ve,{children:Object(I.jsxs)(p.a,{children:[Object(I.jsx)("div",{className:"container",children:Object(I.jsxs)(be.a,{collapseOnSelect:!0,expand:"lg",bg:s?"dark":"light",variant:s?"dark":"light",sticky:"top",children:[Object(I.jsx)(ge.a,{children:Object(I.jsx)(fe,{})}),Object(I.jsx)(ge.a,{children:"Typing Test"}),Object(I.jsx)(be.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(I.jsxs)(be.a.Collapse,{id:"responsive-navbar-nav",children:[Object(I.jsxs)(pe.a,{className:"mr-auto",children:[Object(I.jsx)(p.b,{to:"/",className:"nav-link",id:"navBarText",children:"Test"}),Object(I.jsx)(p.b,{to:"/quotes",className:"nav-link",children:"Quotes"}),Object(I.jsx)(p.b,{to:"/createQuote",className:"nav-link",children:"Create Quote"}),Object(I.jsx)(p.b,{to:"/account",className:"nav-link",children:"Account"}),Object(I.jsx)(p.b,{to:"/leaderboard",className:"nav-link",children:"Leaderboard"})]}),Object(I.jsx)(pe.a,{children:Object(I.jsx)(A.a,{variant:"outline-secondary",onClick:function(){n(!s),localStorage.setItem("isDarkMode",!s)},children:Object(I.jsx)("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-circle-half",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(I.jsx)("path",{fillRule:"evenodd",d:"M8 15V1a7 7 0 1 1 0 14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"})})})})]})]})}),Object(I.jsx)(g.b,{path:"/",exact:!0,component:E}),Object(I.jsx)(g.b,{path:"/createQuote",component:N}),Object(I.jsx)(g.b,{path:"/quotes",component:D}),Object(I.jsx)(g.b,{path:"/login",component:z}),Object(I.jsx)(g.b,{path:"/account",exact:!0,component:R}),Object(I.jsx)(g.b,{path:"/profile",component:ee}),Object(I.jsx)(g.b,{path:"/editAccount",component:te}),Object(I.jsx)(g.b,{path:"/leaderboard",component:le}),Object(I.jsx)(je,{path:"/approveQuote",component:ne,exact:!0})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));j.a.render(Object(I.jsx)(d.a.StrictMode,{children:Object(I.jsx)(ye,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[149,1,2]]]);
//# sourceMappingURL=main.501d85f5.chunk.js.map